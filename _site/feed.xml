<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2022-08-19T10:29:52+01:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">KITAB</title><subtitle>The Website for the KITAB project</subtitle><author><name> </name></author><entry><title type="html">Arabic Pasts 2022: Programme</title><link href="http://localhost:4000/Arabic-pasts-programme-launch/" rel="alternate" type="text/html" title="Arabic Pasts 2022: Programme" /><published>2022-08-11T00:00:00+01:00</published><updated>2022-08-11T00:00:00+01:00</updated><id>http://localhost:4000/Arabic-pasts-programme-launch</id><content type="html" xml:base="http://localhost:4000/Arabic-pasts-programme-launch/"><![CDATA[<p>We are pleased to announce the programme for this year’s Arabic Pasts. We have yet another exciting series of papers covering a range of topics and periods. Continuing on from the previous two years, the format will be hybrid with both in-person and online attendance possible.</p>

<p>Click <a href="http://localhost:4000//research/events/programme-2022">here</a> to view the programme and <a href="https://www.eventbrite.co.uk/e/arabic-pasts-histories-and-historiographies-hybrid-tickets-404541774337">here</a> to register to attend the conference in person, or <a href="https://aku-edu.zoom.us/meeting/register/tJItdemtqTwtGdVPcfeY1a6sXSueK6_hsobv">here to join us online</a>.</p>

<p>We look forward to welcoming you all in a few months time.</p>]]></content><author><name> </name></author><category term="" /><category term="" /><category term="events" /><summary type="html"><![CDATA[We are pleased to announce the programme for this year’s Arabic Pasts. We have yet another exciting series of papers covering a range of topics and periods. Continuing on from the previous two years, the format will be hybrid with both in-person and online attendance possible.]]></summary></entry><entry><title type="html">A Ramble Through the Cluster Data, Part 2: Quantifying and Visualising Clusters.</title><link href="http://localhost:4000/A-ramble-through-the-cluster-data-part-2-Copy/" rel="alternate" type="text/html" title="A Ramble Through the Cluster Data, Part 2: Quantifying and Visualising Clusters." /><published>2022-06-21T00:00:00+01:00</published><updated>2022-06-21T00:00:00+01:00</updated><id>http://localhost:4000/A-ramble-through-the-cluster-data--part-2%20-%20Copy</id><content type="html" xml:base="http://localhost:4000/A-ramble-through-the-cluster-data-part-2-Copy/"><![CDATA[<p>In part 1, I introduced you to the cluster data set, a second <a href="https://kitab-project.org/methods/text-reuse">passim</a> data set that is slightly different from the pairwise data set that the KITAB team use in their daily research. The cluster data set brings together the pairwise alignments that overlap by more than 80% into larger clusters containing multiple book milestones. These clusters can be used to explore stemmatic relationships between texts, or may even reveal how a set of texts rely on the same lost source text. I will be using this data set in my research for the ERC team’s <a href="https://kitab-project.org/research/books#the-erc-team-memories-books-communities-making-and-re-making-the-past-in-the-arabic-textual-tradition">forthcoming volume</a>. However, before I engage in a closer study of individual clusters and their historical importance (I will begin to explore this in part 3), it is important to understand the nature of single-link clustering and its limitations and to explore the scale of the cluster data set in general. This will guide me in identifying clusters of interest and help to contextualise my findings later on.</p>

<h1 id="understanding-the-scale-of-the-clusters-single-link-clustering-and-the-pre-modern-arabic-tradition">Understanding the scale of the clusters: single-link clustering and the pre-modern Arabic tradition</h1>

<p>In the example in part 1 we moved from one pairwise alignment to a cluster of alignments. So far so simple. However, the difficulty comes with identifying relevant and useful clusters within the data set. The cluster dataset is enormous. There are three and a half million clusters. The smallest clusters are size 2 – these are the most common. The largest cluster (cluster number 1) contains 903302 milestones (found in 4960 books). That means that it contains multiple milestones from nearly every book in the corpus. If one studies the text of cluster 1, one will find that a lot of it appears unrelated. This is a weakness in single-link clustering. As a single-link with any other text fragment in the cluster is needed (that is, shared text above a threshold of 80%) to pull another alignment into a cluster and with the addition of each alignment new text is added, alignments added at the end of the cluster can be very different to those added at the start.</p>

<p>For ease of explanation, let us discuss an example in English. Consider these four alignments that each overlap by more than 50%:</p>

<ol>
  <li>
    <p><mark> The quick brown fox jumps </mark> over the lazy dog</p>
  </li>
  <li>
    <p><mark style="background-color:cornflowerblue">In the very famous phrase,</mark> <mark style="background-color:chartreuse"> "The </mark> <mark> quick brown fox jumps..."</mark></p>
  </li>
  <li>
    <p><mark style="background-color:cornflowerblue">In the very famous</mark> <mark style="background-color:deeppink"> phrase, "The </mark> <mark style="background-color:indianred">eagle has left the building" </mark></p>
  </li>
  <li>
    <p>The phrase <mark style="background-color:indianred">"The eagle has left the building"</mark> was originally used to disband crowds</p>
  </li>
</ol>

<p>Alignment 1 does not have anything in common with alignments 3 and 4.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></p>

<p>For an example from the real cluster data, see figure 1. This gives a sample of pairwise alignments that belong to a cluster containing 15 milestones in total - I have only provided a sampling of the milestones, enough to illustrate how the cluster is linked together. Small but important similarities have led strong instances of text reuse to be clustered with much weaker alignments. The final table in the series shows how the last alignment in the sequence of the cluster is entirely unrelated to the first, apart from a few quite vague words. The pair of milestones 605 and 9310 illustrate how a weak link has led to other alignments being added to the cluster. There is strong text reuse between 605 and 9732, and between 9310 and 634. By comparison, 605 and 9310 are linked on the basis the phrase ‘Ibn Hibban said in the <em>Majruhin</em>’ and on a shared citation of a text (the footnotes have yet to be removed from these two OpenITI texts).<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> Thus in this case three strong clusters of texts have been drawn into one cluster by these weaker links. From this example it is easy to see how similarities in chains of transmission (isnads) in particular could lead to the creation of enormous clusters.</p>

<p><a href="/images/blogs/2022-06-21/mathew_barber/media/image6.png"><img src="/images/blogs/2022-06-21/mathew_barber/media/image6.png" alt="" /></a></p>

<p><a href="/images/blogs/2022-06-21/mathew_barber/media/image5.png"><img src="/images/blogs/2022-06-21/mathew_barber/media/image5.png" alt="" /></a></p>

<p><a href="/images/blogs/2022-06-21/mathew_barber/media/image1.png"><img src="/images/blogs/2022-06-21/mathew_barber/media/image1.png" alt="" /></a></p>

<p><a href="/images/blogs/2022-06-21/mathew_barber/media/image3.png"><img src="/images/blogs/2022-06-21/mathew_barber/media/image3.png" alt="" /></a></p>

<p><a href="/images/blogs/2022-06-21/mathew_barber/media/image2.png"><img src="/images/blogs/2022-06-21/mathew_barber/media/image2.png" alt="" /></a></p>

<p><em>Figure 1: A selection of pairwise alignments from cluster 34359801867, which contains 15 book milestones in total, given as a series of tables. Each table in the series contains a milestone from the table above (for example, the second table contains ms605, which is also in the first table), and so they each represent a step in the creation of the cluster. This representation is somewhat artificial and it has been reconstructed after the fact, as passim’s output does not indicate the manner in which each cluster has been formed. These tables were produced using the <a href="https://kitab-project.org/diffViewer/">diff viewer</a> developed by Peter Verkinderen.</em></p>

<h1 id="lay-of-the-land-some-visualisations-and-statistics">Lay of the land: some visualisations and statistics</h1>

<p>Even if we exclude extremely large clusters (for example, exclude all clusters that contain more than 500 milestones), the data set is still too large to be understood through one visualisation. Figure 2 gives an example of a graph drawn from the cluster data for books written before 900/1494. Each node (a dot) is an author in the corpus and each edge (that is, the line connecting two nodes) represents a cluster shared between two authors (using authors rather than books reduces the total number of nodes). Edges are weighted based on the number of clusters shared between two authors. To help distinguish the nodes, they have been coloured according to the author’s death date (darker nodes are later).</p>

<p><a href="/images/blogs/2022-06-21/mathew_barber/media/image4.png"><img src="/images/blogs/2022-06-21/mathew_barber/media/image4.png" alt="" /></a></p>

<p><em>Figure 2: A graph of all authors in the corpus written who died before 900/1494 with edges weighted according to the number of clusters shared between authors.</em></p>

<p>Even though figure 2 has been drawn taking account of edge weight (that is, broadly, edges with lower weights are closer to the outside of the graph), it is impossible to derive any meaning from this graph. This is because nearly all of our authors are connected in some way by a cluster. In reality most connections are only very small (the median edge weight is 2 and the mode is 1), but some authors are very connected (the mean edge weight is 22 – so very large edge weights are pushing up the average).<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup></p>

<p>The largest edge in this graph is shared between Ibn ʿAskakir and Ibn Manzur al-Ifriqi, with 31855 clusters shared between these authors. This is not surprising as Ibn Manzur abbreviated Ibn ʿAsakir’s <em>Taʾrikh Madinat Dimashq</em>, which is the largest pre-modern book in the corpus (lots of aligned milestones equals lots of clusters)<em>.</em> However, even if we exclude all clusters with a weight of 2 from the count (that is, we exclude all clusters that represent only text reuse between these two texts), the cluster count is still 22219. This shows how Ibn ʿAsakir had himself reused material for his work, which might in turn have been reused by others.</p>

<p>In short, many pre-modern authors in the OpenITI corpus are connected by at least one cluster and a smaller number are connected by a significant number of clusters. Next, we should ask how large the clusters are. As noted above, the vast majority of clusters contain two books (that is, they represent only pairwise relationships). However, there is still a large number of clusters that contain 3 or more book milestones.</p>

<p>Figure 3 gives a histogram for the entirety of the cluster dataset, plotting the frequency of clusters according to their size. As can be seen in this figure , larger clusters are much less frequent in the dataset, but they do occur. There are two huge outliers (a cluster of 903,302 milestones and another of 2874). There are, however, a number of clusters that contain over 500 book milestones. It is very likely that these clusters are not meaningfully related, a consequence of the single-link clustering described above, but they would need closer investigation.</p>

<p><a href="/images/blogs/2022-06-21/mathew_barber/media/image8.png"><img src="/images/blogs/2022-06-21/mathew_barber/media/image8.png" alt="" /></a></p>

<p><em>Figure 3: A histogram showing the frequencies of clusters at different sizes. In order to make the bars readable, both the x and y axis use log scales (the gaps between the values get larger the further along the axis you proceed). As a result, you should pay careful attention to the values on each axis when reading this graph.</em></p>

<p>We can be more certain that clusters that contain fewer than 20 milestones are more meaningfully related (although as the example in figure 1 above showed, even smaller clusters can become unrelated). Figure 4 graphs the frequencies of clusters by their size, up to size 20, and provides an additional bar for all those clusters that contain more than 20 milestones. Table 1 gives the frequencies and their percentage of the total data set.</p>

<p><a href="/images/blogs/2022-06-21/mathew_barber/media/image7.png"><img src="/images/blogs/2022-06-21/mathew_barber/media/image7.png" alt="" /></a></p>

<p><em>Figure 4: A barchart of the frequencies of clusters by their size (focussing on clusters that contain up to 20 book milestones, with all clusters above size 20 given in the final bar). In order to make the bars visible, a logarithmic scale has been used for the count on the y axis. For the values see table 4.</em></p>

<table>
  <thead>
    <tr>
      <th>Cluster Size</th>
      <th>Count</th>
      <th>Percentage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2</td>
      <td>2,321,187</td>
      <td>65.74</td>
    </tr>
    <tr>
      <td>3</td>
      <td>636,594</td>
      <td>18.03</td>
    </tr>
    <tr>
      <td>4</td>
      <td>246,287</td>
      <td>6.98</td>
    </tr>
    <tr>
      <td>5</td>
      <td>118,034</td>
      <td>3.34</td>
    </tr>
    <tr>
      <td>6</td>
      <td>64,988</td>
      <td>1.84</td>
    </tr>
    <tr>
      <td>7</td>
      <td>39,142</td>
      <td>1.11</td>
    </tr>
    <tr>
      <td>8</td>
      <td>25,542</td>
      <td>0.72</td>
    </tr>
    <tr>
      <td>9</td>
      <td>17,258</td>
      <td>0.49</td>
    </tr>
    <tr>
      <td>10</td>
      <td>12,201</td>
      <td>0.35</td>
    </tr>
    <tr>
      <td>11</td>
      <td>8,996</td>
      <td>0.25</td>
    </tr>
    <tr>
      <td>12</td>
      <td>6,808</td>
      <td>0.19</td>
    </tr>
    <tr>
      <td>13</td>
      <td>5,245</td>
      <td>0.15</td>
    </tr>
    <tr>
      <td>14</td>
      <td>4,138</td>
      <td>0.12</td>
    </tr>
    <tr>
      <td>15</td>
      <td>3,215</td>
      <td>0.09</td>
    </tr>
    <tr>
      <td>16</td>
      <td>2,625</td>
      <td>0.07</td>
    </tr>
    <tr>
      <td>17</td>
      <td>2,173</td>
      <td>0.06</td>
    </tr>
    <tr>
      <td>18</td>
      <td>1,866</td>
      <td>0.05</td>
    </tr>
    <tr>
      <td>19</td>
      <td>1,600</td>
      <td>0.05</td>
    </tr>
    <tr>
      <td>20</td>
      <td>1,241</td>
      <td>0.04</td>
    </tr>
    <tr>
      <td>&gt;20</td>
      <td>11,621</td>
      <td>0.33</td>
    </tr>
    <tr>
      <td>Total clusters</td>
      <td>3,530,761</td>
      <td>100</td>
    </tr>
  </tbody>
</table>

<p><em>Table 1: Frequencies of clusters of each size, and the percentage of the dataset that they represent.</em></p>

<p>As a percentage of the total dataset, clusters of 3 and bigger appear to be quite small, but in terms of absolute counts there are still a large number of clusters containing between 3 and 10 book milestones. It is clusters of this size that can be most fruitful for the study of historiography and its transmission and for comparing different accounts of the same event.</p>

<h1 id="the-next-waypoint">The next waypoint</h1>

<p>In this blog post it was my aim to explore single-link clustering, its shortfalls and to analyse the scale of the cluster data set. Very large clusters appear to not be meaningfully related and the majority of the clusters are between 2 and 10 book milestones in size. Clusters of this size still contain a large number of book milestones and they, moreover, cover a variety of subjects – far beyond the historiography that I wish to study. The next blog post will, therefore, concern my attempts to search the clusters and identify those of interest to my research.</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>I am grateful to Peter Verkinderen for suggesting this example, which helps greatly to clarify the problem. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>An example like this potentially illustrates the importance of cleaning OpenITI texts for this kind of analysis. Removing modern footnotes which contain repetitive phrasing and can cite similar books will help passim to build less noisy clusters. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p>To clarify: these are different ways of calculating an average from the data. Median is the middle point of the data, when the values are ordered according to size. Mode is the value that appears most in the data set. The mean is the value that we typically think of when we speak of averages (calculated by adding all the values together and dividing that by the number of data points). To give an example: here is a list of 11 data points: ‘2, 4, 4, 4, 9, 9, 9, 9, 9, 9, 9’. In this data set, the median is 9 (the sixth data point in the list), the mode is 9 and the mean is 6.2. Notice how the median and mode take better account of the values that are more present in the data set, where the mean is lower because there are some very small (albeit less frequent) values in the data set. As infrequent but very large or very small values can bias the mean, it is not always the best way to take an average of a data set. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>]]></content><author><name>Mathew Barber</name></author><category term="" /><category term="" /><category term="text-reuse" /><category term="book-history" /><summary type="html"><![CDATA[In part 1, I introduced you to the cluster data set, a second passim data set that is slightly different from the pairwise data set that the KITAB team use in their daily research. The cluster data set brings together the pairwise alignments that overlap by more than 80% into larger clusters containing multiple book milestones. These clusters can be used to explore stemmatic relationships between texts, or may even reveal how a set of texts rely on the same lost source text. I will be using this data set in my research for the ERC team’s forthcoming volume. However, before I engage in a closer study of individual clusters and their historical importance (I will begin to explore this in part 3), it is important to understand the nature of single-link clustering and its limitations and to explore the scale of the cluster data set in general. This will guide me in identifying clusters of interest and help to contextualise my findings later on.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/blogs/2022-06-21/mathew_barber/media/image7.png" /><media:content medium="image" url="http://localhost:4000/images/blogs/2022-06-21/mathew_barber/media/image7.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">A Close and Distant Reading of Writerly Practices: Sarah Bowen Savant’s Inaugural Lecture</title><link href="http://localhost:4000/inaugural-lecture-sarah-bowen-savant/" rel="alternate" type="text/html" title="A Close and Distant Reading of Writerly Practices: Sarah Bowen Savant’s Inaugural Lecture" /><published>2022-05-20T00:00:00+01:00</published><updated>2022-05-20T00:00:00+01:00</updated><id>http://localhost:4000/inaugural-lecture-sarah-bowen-savant</id><content type="html" xml:base="http://localhost:4000/inaugural-lecture-sarah-bowen-savant/"><![CDATA[<p>On Thursday 5th of May 2022 Sarah Bowen Savant gave her inaugural lecture as full professor at the AKU-ISMC.</p>

<p>This is her personal account of the start of KITAB, and where she presents material that will appear in her next <a href="https://kitab-project.org/research/books#sarah-savant-a-cultural-history-of-the-arabic-book-700-1500">book</a>, which treats book history.</p>

<p>Prof. Savant tells the story of a set of written practices and cultural expectations that helped make the Arabic written tradition (ca. 700-1500) one of the largest written traditions up to its day. The growth of the tradition is often narrated in terms of the adoption of paper in the ninth and tenth centuries in the Middle East. Without denying the importance of this medium, she emphasises practices that filled paper. This story, of practice, has not been told – or at least, it has not been told in ways that benefit from new and emerging digital methods.</p>

<p>The lecture focuses specifically on the many ways that authors reused earlier works to create news ones. This reuse occurred in many ways that fuelled the tradition’s growth, for example: new, updated versions of earlier works; many varieties of compilations relying on excerpts; commentaries; and abridgements and extensions. Such large-scale and inventive recycling generated new works, new ideas, and new memories. It also partially replaced earlier layers of writings and helps to explain the scant material evidence for books up until roughly the eleventh century C.E., the non-survival of books treating important topics, and the great variability of witnesses to individual works. More fundamentally, the widespread reuse of texts forces historians today to query earlier generations assumptions about authorship and the very nature of the book.</p>

<p>You can now watch the inaugural lecture online, below:</p>

<div class="embed-responsive embed-responsive-16by9">
  <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/snrDcEYawCI"></iframe>
</div>
<p><br />
For more lectures and interviews from the KITAB project, please see <a href="https://kitab-project.org/research/lectures">our dedicated page</a></p>]]></content><author><name> </name></author><category term="" /><category term="" /><category term="events" /><category term="news" /><summary type="html"><![CDATA[On Thursday 5th of May 2022 Sarah Bowen Savant gave her inaugural lecture as full professor at the AKU-ISMC.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/blogs/2022-05-20/lecture-clip.png" /><media:content medium="image" url="http://localhost:4000/images/blogs/2022-05-20/lecture-clip.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">A Ramble Through the Cluster Data, Part 1: From Pairs to Clusters.</title><link href="http://localhost:4000/A-ramble-through-the-cluster-data-part/" rel="alternate" type="text/html" title="A Ramble Through the Cluster Data, Part 1: From Pairs to Clusters." /><published>2022-05-19T00:00:00+01:00</published><updated>2022-05-19T00:00:00+01:00</updated><id>http://localhost:4000/A-ramble-through-the-cluster-data--part-</id><content type="html" xml:base="http://localhost:4000/A-ramble-through-the-cluster-data-part/"><![CDATA[<p>It should be no surprise to any reader of this blog that the KITAB project is primarily interested in studying Arabic text reuse. A large number of posts here, including several from myself, are concerned with the text reuse dataset produced by <a href="https://kitab-project.org/methods/text-reuse">passim</a> and what it can tell us about Arabic book history. But what if I told you that passim produced two datasets and that our work has so far relied on one? If you read our pages on passim, or our blogs, you will see that this work focuses on the study of pairs of texts. That is, how text is reused between two books; where text reuse occurs in those books; how text is rearranged, etc. This post will introduce another dataset, the cluster dataset. It will be part of a series of posts that will follow my ramble<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> (more-or-less in real time) through the cluster data, giving some early insights into how it can be used to understand Arabic book history. This data set could be used to study a range of texts, but here I will take historiography as an example.</p>

<h1 id="at-the-trailhead">At the trailhead</h1>

<p>Even since I began my work with the KITAB project, I have been aware of a large and mysterious entity known as the ‘cluster data set’. In those early days, Ryan Muther gently and generously guided me through passim, its workings, its outputs (and how to read them). He told me that passim produced an output that brought together all of the passages in the corpus that shared text into clusters. Unfortunately, owing to the manner in which these clusters were formed, very common passages, such as the kind found in hadith, created large and unwieldy clusters of largely unrelated material (more on this problem in part 2). The KITAB project chose to primarily focus on the pairwise data set, which was already sufficiently large and (as our blog posts alone have shown) an incredible resource for understanding many facets of Arabic book history.</p>

<p>In contrast, David Smith and his team, who developed passim for the study of American Newsprint, have focussed in their research primarily on the cluster dataset. In their study of ‘viral texts’ they are interested in how stories and anecdotes were reprinted across time. They focus on the larger clusters, which represent popular reprints, and what this can tell us about nineteenth-century newspaper culture.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup></p>

<p>I was drawn to the cluster data not to study the larger clusters (although that would certainly be a valuable, albeit very complex, study for Arabic). Instead I am interested in the smaller clusters (those that typically contain 3-10 passages). Such clusters can tell us, for example, how one account of the same historical event can be used by multiple authors and see how the different authors make changes or additions in their version. Such clusters could provide evidence of a stemmatic relationship, or hint at how multiple authors have reused the same non-extant source text.</p>

<p>A study of the cluster data is useful in my research for KITAB’s forthcoming, <a href="https://kitab-project.org/research/books#the-erc-team-memories-books-communities-making-and-re-making-the-past-in-the-arabic-textual-tradition">co-authored book</a>. In a chapter of that book, I will be exploring the Arabic accounts of a famine that occurred during the Fatimid <em>fitna</em> of 454/1062-466/1073, and what they might teach us about the cultural memory of the famine. I am interested in how accounts of that famine compare to accounts of famine in the Arabic corpus more generally. The chapter will, moreover, attempt to find evidence of quotation of a lost topographical history written by al-Jawwānī (d. 598/1205), which appears to have contained extensive descriptions of the famine. The cluster dataset can be used to explore both of these questions and I will make reference to some early findings of this study in some of the blog posts that follow.</p>

<h1 id="some-orienteering-pairs-vs-clusters">Some orienteering: pairs vs. clusters</h1>

<p>As has been explained <a href="https://kitab-project.org/methods/text-reuse">on this website</a>, we run passim on the whole OpenITI corpus split into 300-word chunks, which we term milestones. Passim compares each milestone to every other milestone and if it finds shared text it outputs a text reuse alignment (a record that contains the shared text in both milestones and some statistics about their length, start and end points, and shared characters). For KITAB’s research, all alignments are grouped into csv files corresponding to book pairs. For example, all alignments between al-Tabari’s <em>Taʾrikh</em> and Ibn al-Athir’s <em>Kamil</em> are grouped into one file.<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup></p>

<p>As part of its program, passim performs single-link clustering on every pairwise alignment. It takes the text of each alignment and searches for other pairwise alignments that overlap with it by at least 80%. Through this process, passim creates clusters of passages that all contain related text. At this stage, it is perhaps useful to clarify through an example.</p>

<p>Through my study of a pair of histories (Ibn al-Athir’s <em>al-Kamil fi-l-taʾrikh</em> and Ibn Taghribirdi’s <em>Nujum al-Zahira</em>), I find an alignment of interest, concerning the early-Islamic history of Egypt. The pairwise alignment is given in table 1.</p>

<table>
  <thead>
    <tr>
      <th><strong>0630IbnAthirCizzDin.Kamil JK000911-ara1.mARkdown.ms0810</strong></th>
      <th><strong>0874IbnTaghribirdi.NujumZahira JK001330-ara1.completed.ms0017</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>مريم جاثليق مصر ومعه الاسقف------------------------- بعثه المقوقس---------------- لمنع بلادهم فلما ---نزل بهم عمرو قاتلوه فارسل اليهم لا تعجلونا حتي نعذر اليكم وترون رايكم بعد وليبرز الي ابو مريم وابو مريام فكفوا وخرجا -----------اليه فدعاهما الي -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------الاسلام او--------------------------------------- الجزية واخبرهما بوصية النبي باهل مصر بسبب هاجر ام اسماعيل------------------------------------------------------------------------------------------------------------------------------- عليه السلام --------------------------------------فقالوا قرابة بعيدة لا يصل مثلها الا الانبياء -------------------------------------------------------------------------------------------------------------------------------------------------------------------امنا حتي نرجع اليك فقال عمرو--- مثلي لا يخدع ولكنني اءجلكما ثلاثا لتنظرا ---------------------------------------------------فقالا زدنا فزادهم يوما فرجعا الي المقوقس فهم فابي ارطبون ان يجيبهما وامر بمناهدتهم فقال لاهل مصر اما نحن فسنجهد ان ندفع عنكم ولا نرجع اليهم------------------------------------------------------ فلم يفجا عمرا الا البيات وهو علي عدة فلقوه فقتل ارطبون وكثير ممن معه وانهزم الباقون وسار عمرو والزبير الي عين الشمس وبها جمعهم وبعث الي فرما ابرهة بن الصباح فنزل عليها وبعث عوف بن مالك الي الاسكندرية فنزل عليها قيل وكان الاسكندر وفرما اخوين ونزل عمرو بعين الشمس فقال اهل مصر لملكهم ما تريد الا قتال يوم قوم هزموا كسري وقيصر وغلبوهم علي بلادهم فلا -</td>
      <td>مريم جاثليق مصر ومعه الاسقف ابو مريام في اهل البنيات بعثه المقوقس صاحب الاسكندرية لمنع بلادهم فلما تصافوا قال عمرو بن العاص---------- لا تعجلو-ا حتي نعذر اليكم -----------------ليبرز الي ابو مريم وابو مريام راهبا هذه البلاد فبرزا اليه فقال لهما عمرو انتما راهبا هذه البلاد فاسمعا ان الله بعث محمدا بالحق وامره به وامرنا به محمد وادي الينا كل الذي امر به ثم مضي وتركنا علي الواضحة وكان مما امرنا به الاعذار الي الناس فنحن ندعوكم الي الاسلام فمن اجابنا فمثلنا ومن لم يجبنا عرضنا عليه الجزية و--بذلنا له المنعة وقد اعلمنا اننا مفتتحوكم واوصينا بكم حفظا لرحمنا منكم وان لكم ان اجبتمونا بذلك ذمة الي ذمة ومما عهد الينا اميرنا استوصوا بالقبطيين خيرا فان رسول الله صلي الله عليه وسلم اوصانا بالقبطيين خيرا لان لهم ذمة ورحما فقالوا قرابة بعيدة لا يصل مثلها الا الانبياء معروفة شريفة كانت ابنة ملكنا وكانت من اهل منف والملك منهم فاديل عليهم اهل عين شمس فقتلوهم وسلبوهم ملكهم واغربوا فلذلك صارت الي ابراهيم عليه السلام مرحبا به واهلا وامنا حتي نرجع اليك فقال عمرو ان مثلي لا يخدع ولك-ني اءجلكما ثلاثا لتنظرا ولتناظرا قومكما والا ناجزتكم قالا زدنا فزادهم يوما فقالا زدنا فزادهم يوما فرجعا الي المقوقس---- فابي ارطبون ان يجيبهما وامر بمناهدتهم وقال لاهل مصر اما نحن فنجتهد ان ندفع عنكم ولا نرجع اليهم وقد بقيت اربعة ايام واشار عليهم بان يبيتوا المسلمين ف------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------قال الملا من----هم ما تقاتلون من------- قوم قتلوا كسري وقيصر وغلبوهم علي بلادهم فالح</td>
    </tr>
  </tbody>
</table>

<p><em>Table 1: A pairwise alignment between Ibn al-Athir’s Kamil and Ibn Taghribirdi’s Nujum. The hyphens indicate characters inserted in the other text (calculated through a Smith-Waterman alignment algorithm).</em></p>

<p>From this alignment, one could search passim’s cluster dataset for the two milestones (that is, look for clusters in which either ms0810 of the <em>Kamil</em> or ms0017 of the <em>Nujum</em> are involved). Table 2 gives the result of such a search.</p>

<table>
  <thead>
    <tr>
      <th><strong>cluster</strong></th>
      <th><strong>size</strong></th>
      <th><strong>id</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>68719610468</td>
      <td>6</td>
      <td>JK000911-ara1.mARkdown.ms0810</td>
    </tr>
    <tr>
      <td><strong>180388738305</strong></td>
      <td><strong>7</strong></td>
      <td><strong>JK000911-ara1.mARkdown.ms0810</strong></td>
    </tr>
    <tr>
      <td><strong>249108229347</strong></td>
      <td><strong>2</strong></td>
      <td><strong>JK000911-ara1.mARkdown.ms0810</strong></td>
    </tr>
    <tr>
      <td>128849236741</td>
      <td>2</td>
      <td>JK000911-ara1.mARkdown.ms0810</td>
    </tr>
    <tr>
      <td>17179888967</td>
      <td>3</td>
      <td>JK000911-ara1.mARkdown.ms0810</td>
    </tr>
    <tr>
      <td>309237764767</td>
      <td>3</td>
      <td>JK000911-ara1.mARkdown.ms0810</td>
    </tr>
    <tr>
      <td>180388738302</td>
      <td>5</td>
      <td>JK001330-ara1.mARkdown.ms0017</td>
    </tr>
    <tr>
      <td>128849236740</td>
      <td>2</td>
      <td>JK001330-ara1.mARkdown.ms0017</td>
    </tr>
    <tr>
      <td><strong>249108229347</strong></td>
      <td><strong>2</strong></td>
      <td><strong>JK001330-ara1.mARkdown.ms0017</strong></td>
    </tr>
    <tr>
      <td>17179888964</td>
      <td>6</td>
      <td>JK001330-ara1.mARkdown.ms0017</td>
    </tr>
    <tr>
      <td><strong>180388738305</strong></td>
      <td><strong>7</strong></td>
      <td><strong>JK001330-ara1.mARkdown.ms0017</strong></td>
    </tr>
  </tbody>
</table>

<p><em>Table 2: All of the clusters to which ms0810 of the Kamil and ms0017 of the Nujum belong. Bold rows indicate the text reuse that is given in the pairwise alignment between the two texts given in table 1 (this one pairwise alignment is found in two clusters, where part of the alignment is drawn into the larger cluster).</em></p>

<p>The milestone in the <em>Kamil</em> belongs to six clusters and the one in the <em>Nujum</em> belongs to five clusters. Notice how the two texts share two cluster numbers (underlined in the table), cluster 249108229347 and 180388738305, indicating that this long pairwise alignment is split between two clusters. The first of these is only shared between these two books, indicated by the fact that the cluster is of size 2 (that is, part of the pairwise alignment is only shared by the <em>Kamil</em> and <em>Nujum</em>). However, the second cluster (representing only a part of the same alignment) is of size 7. That means that part of the alignment is shared between the <em>Kamil</em>, <em>Nujum</em> and 5 other texts in the OpenITI corpus. Table 3 lists the texts in that cluster.</p>

<table>
  <thead>
    <tr>
      <th><strong>Book and ms URI</strong></th>
      <th><strong>Author and Title</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0310Tabari.Tarikh.Shamela0009783BK1-ara1.mARkdown.ms1606</td>
      <td>Al-Tabarī, <em>Taʾrikh al-rusul wa-l-muluk</em></td>
    </tr>
    <tr>
      <td>0597IbnJawzi.Muntazam.Shamela0012406-ara1.mARkdown.ms1039</td>
      <td>Ibn al-Jawzi, <em>al-Muntaẓam fi taʾrikh al-muluk wa-l-umam</em></td>
    </tr>
    <tr>
      <td>0630IbnAthirCizzDin.Kamil.JK000911-ara1.mARkdown.ms0810</td>
      <td>Ibn al-Athir, <em>al-Kamil fi-l-taʾrikh</em></td>
    </tr>
    <tr>
      <td>0634AbuRabicHimyari.Iktifa.Shamela0009770-ara1.completed.ms1000</td>
      <td>Abu al-Rabiʿ al-Ḥimyari, <em>al-Iktafaʾ bi-ma taḍammanahu min maghazi rasul allah</em></td>
    </tr>
    <tr>
      <td>0774IbnKathir.Bidaya.Shamela0004445-ara1.completed.ms3276</td>
      <td>Ibn Kathīr, <em>al-Bidaya wa-l-Nihaya</em></td>
    </tr>
    <tr>
      <td>0874IbnTaghribirdi.NujumZahira. JK001330-ara1.mARkdown.ms0017</td>
      <td>Ibn Taghribirdi, <em>Nujum al-zahira fi muluk misr wa-l-qahira</em></td>
    </tr>
    <tr>
      <td>1411MuhammadTahirBarnaji.SahihWaDacifTarikhTabari. Sham19Y0145435-ara1.ms1957</td>
      <td>Muhammad Tahir Barnaji, <em>Ṣahih wa ḍaʿif taʾrikh al-tabari</em></td>
    </tr>
  </tbody>
</table>

<p><em>Table 3: A list of texts and milestones belonging to cluster 180388738305</em></p>

<p>A simple glance at the list of books in table 3 suggests that this is an al-Tabari historiographical cluster. That is, all seven works have been clustered together because they are all reusing a piece of text that first appeared in al-Tabari’s <em>Taʾrikh.</em> In the case of the final work in the list, it is a modern work that appears to reuse the text as part of a discussion of al-Tabari’s work. In the other cases we would need to examine the text of the milestones themselves to ascertain the exact relationship between all of the texts in the cluster – to determine if they have all reused the passage directly from al-Tabari, if they have relied on intermediaries, or even if some share an earlier (lost) source text. For example, Ibn Taghribirdi cites Ibn Kathir as his source for this passage, so it appears that he had not directly reused al-Tabari. The cluster data thus allows us to contextualise pairwise alignments in the broader corpus and figure out the larger stemmatic relationships that can underlie them.</p>

<h1 id="the-next-waypoint">The next waypoint</h1>

<p>In this blog post I have attempted to introduce you to the cluster data set, explain its importance and how it is produced. As the example cluster given above shows, the data set can be valuable for understanding stemmatic relationships that span across the corpus, across time and space. However the neat example that I have presented here obscures some of the complexities of the data set as a whole, of its scale and of the weaknesses of single-link clustering, especially for the pre-modern Arabic tradition. The cluster data set contains over three and a half million individual clusters, many of which are very small and some of which are extremely large. In the next blog post, I will take a closer look at why the data set is so large, and provide some basic statistical analyses. This is necessary groundwork if we are to use the cluster data for historical research.</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>If you will excuse the wordplay, I mean this both in the sense of a ‘pleasant stroll’ through a data set, and to write in a somewhat disorganised fashion – that is, I will present ideas and thoughts that are in progress. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>Ryan Cordell, ‘Reprinting, Circulation and the Network Author in Antebellum Newspapers’, <em>American Literary History 27.3,</em> (August, 2015), <a href="https://doi.org/10.1093/alh/ajv028"><em>https://doi.org/10.1093/alh/ajv028</em></a>, 417-445; the (draft) chapter ‘Classifying Vignettes, Modeling Hybridity’ in Ryan Cordell, David A. Smith, Abby Mullen, Jonathan D. Fitzgerald and Avery Blankenship, <em>Going the Rounds: Virality in Nineteenth-Century American Newspapers</em>, (Minneapolis: University of Minnesota Press, forthcoming, draft chapters available online), <a href="https://manifold.umn.edu/read/untitled-bd3eb0af-fdad-4dd6-9c94-3fd15d522ab6/section/06899e82-8f06-43d2-9fc9-ea04dffef886">https://manifold.umn.edu/read/untitled-bd3eb0af-fdad-4dd6-9c94-3fd15d522ab6/section/06899e82-8f06-43d2-9fc9-ea04dffef886</a>. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p>For an example of such a file, see the pairwise file (listed as item 9) in Sarah Bowen Savant and Masoumeh Seydi’s Zenodo release for their recent work on ‘People versus Books’, <a href="https://zenodo.org/record/5074633#.Yl_LZtrMKUk">https://zenodo.org/record/5074633#.Yl_LZtrMKUk</a>. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>]]></content><author><name>Mathew Barber</name></author><category term="" /><category term="" /><category term="text-reuse" /><category term="book-history" /><summary type="html"><![CDATA[It should be no surprise to any reader of this blog that the KITAB project is primarily interested in studying Arabic text reuse. A large number of posts here, including several from myself, are concerned with the text reuse dataset produced by passim and what it can tell us about Arabic book history. But what if I told you that passim produced two datasets and that our work has so far relied on one? If you read our pages on passim, or our blogs, you will see that this work focuses on the study of pairs of texts. That is, how text is reused between two books; where text reuse occurs in those books; how text is rearranged, etc. This post will introduce another dataset, the cluster dataset. It will be part of a series of posts that will follow my ramble1 (more-or-less in real time) through the cluster data, giving some early insights into how it can be used to understand Arabic book history. This data set could be used to study a range of texts, but here I will take historiography as an example. If you will excuse the wordplay, I mean this both in the sense of a ‘pleasant stroll’ through a data set, and to write in a somewhat disorganised fashion – that is, I will present ideas and thoughts that are in progress. &#8617;]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/thumbs/authors_graph_pre900.png" /><media:content medium="image" url="http://localhost:4000/images/thumbs/authors_graph_pre900.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Call for Papers: A Workshop on Citation (25th-26th July 2022)</title><link href="http://localhost:4000/Citation-workshop-cfp/" rel="alternate" type="text/html" title="Call for Papers: A Workshop on Citation (25th-26th July 2022)" /><published>2022-04-22T00:00:00+01:00</published><updated>2022-04-22T00:00:00+01:00</updated><id>http://localhost:4000/Citation-workshop-cfp</id><content type="html" xml:base="http://localhost:4000/Citation-workshop-cfp/"><![CDATA[<h1 id="modeling-attribution-and-acknowledgement-in-the-digital-humanities-citation-practices-and-the-pre-modern-arabic-book">Modeling Attribution and Acknowledgement in the Digital Humanities: Citation Practices and the Pre-Modern Arabic Book.</h1>
<p>A two-day workshop, 25th - 26th July 2022<br />
Institute for the Study of Muslim Civilisations, Aga Khan University, London</p>

<p>For some time, the KITAB team has been dealing with the practice of citation in the pre-modern Arabic written tradition. In doing so, we are building on extensive work in Arabic and Islamic studies that deals with how authors cite, and particularly their use of isnads (that is, chains of transmission). Digital Humanities, moreover, offers us new and exciting methods for the identification and analysis of citations within our texts.</p>

<p>Through this informal workshop, we hope to present some of our research and also to hear from other researchers who are working on citation (case studies from both Arabic and non-Arabic contexts are very much welcomed). If you are working on any of the topics below, we invite you to present a proposal for a 20-minute paper:</p>

<ul>
  <li>
    <p>Digital methods used to identify and interpret citations within large textual traditions.</p>
  </li>
  <li>
    <p>Digital methods used to parse citations (particularly isnads) and convert them into transmission networks.</p>
  </li>
  <li>
    <p>Terminology: What do authors mean when they use certain transmission terms? How does the use of these terms differ diachronically and spatially?</p>
  </li>
  <li>
    <p>Correspondences between text reuse and citation: can we trace cited text within a corpus? Can we identify instances of uncited text?</p>
  </li>
  <li>
    <p>Theories of citation: what constitutes plagiarism? What forms are citation expected to take? How does written citation intersect with oral practices?</p>
  </li>
</ul>

<p>The workshop will take place in two halves. In the first half, participants will be invited to give a paper to a panel with a respondent. To facilitate broader engagement, the paper sessions will be broadcast via zoom. In the second half, there will be an informal (and we hope lively) conversation about citation practices. This will take place in person with the number of offline participants kept low to enable a lively and productive conversation.</p>

<p>If you would like to participate, please submit an abstract of <strong>less than 300 words</strong> to <strong><a href="mailto:kitab@aku.edu">kitab@aku.edu</a></strong> by 13th May 2022.</p>

<p>We look forward to receiving your abstracts and hearing from others who are as excited about citation as we are!</p>]]></content><author><name>Sarah Bowen Savant and Mathew Barber</name></author><category term="" /><category term="" /><category term="events" /><category term="news" /><category term="citation" /><summary type="html"><![CDATA[Modeling Attribution and Acknowledgement in the Digital Humanities: Citation Practices and the Pre-Modern Arabic Book.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/methods/isnads_tag.png" /><media:content medium="image" url="http://localhost:4000/images/methods/isnads_tag.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Call for papers: Arabic Pasts 2022</title><link href="http://localhost:4000/research/events/arabic-pasts-cfp" rel="alternate" type="text/html" title="Call for papers: Arabic Pasts 2022" /><published>2022-03-17T00:00:00+00:00</published><updated>2022-03-17T00:00:00+00:00</updated><id>http://localhost:4000/research/events/Call-for-papers--Arabic-Pasts-2022</id><content type="html" xml:base="http://localhost:4000/research/events/arabic-pasts-cfp"><![CDATA[<p class="text-center"><strong>Arabic Pasts: Histories and Historiographies</strong></p>

<p class="text-center"><strong>Research workshop</strong></p>

<p class="text-center"><strong>Co-hosted by the Aga Khan University, Institute for the Study of Muslim Civilisations and SOAS, University of London</strong></p>

<p class="text-center"><strong>6 to 8 October 2022</strong></p>

<p class="text-center"><strong>Aga Khan Centre, London &amp; Online</strong></p>

<p>This annual exploratory and informal workshop not only offers the opportunity to reflect on history writing in Arabic, but also invites contributors to explore more broadly how people relate to the past. We encourage contributions focused on methodologies, research agendas, and case studies related to Arabic in any region and in any period from the seventh century to the present.</p>

<p>Papers might elucidate questions such as:</p>

<ul>
  <li>
    <p>How and in which terms do people refer to the past? How and in which terms do they refer to memory? What is the relation between history and memory, and between memory and space? How does the past sit in people’s bodies – and in the body politic?</p>
  </li>
  <li>
    <p>Through what practices of writing or otherwise encoding the past and of remembering and forgetting, have different groups in the Middle East and North Africa viewed their pasts? At different times and places, was the significant past the same for court historians as for literary historians; for bureaucrats as for the military; for Sufis as for Muslim lawyers and Traditionists?</p>
  </li>
  <li>
    <p>From what perspective have histories been written and what makes them coherent? How have past events been rendered intelligible? When do particular views of the past start to fall apart? Which categories and boundaries are seen as primordial and which are not? Which beings have been seen as capable of influencing events and when?</p>
  </li>
  <li>
    <p>How do people connect the/their living and the/their dead conceptually? When are past events really over and when can they be laid to rest? Under which circumstances is the past revived? Why do some past lives or events inspire action and others do not? How does unresolved conflict inform thinking about and using the past?</p>
  </li>
  <li>
    <p>How did non-Muslims and Muslims, men and women, adherents of different confessional or juristic traditions, or speakers of different languages, within societies that became “Islamic” imagine the shape and meaning of their specific societies’ own pasts, and their relation to the universal history of the Islamic community?</p>
  </li>
  <li>
    <p>How have urban and rural people, workers and peasants, the religiously educated and the technocratic elite, developed different ways of writing, remembering, or commemorating particular events in, or the broad sweep of, local, national, or “Islamic” history?</p>
  </li>
  <li>
    <p>In what ways do educational institutions, museums, media organizations and proponents of heritage use history writing in Arabic to shape loyalties and senses of belonging in the Middle East, North Africa, and Europe? How do recent discourses in the West shape discussions of history in the Middle East?</p>
  </li>
  <li>
    <p>How can digital methods now enhance or change our understandings of the past? What additional information and perspectives do they offer? (How) do they limit our understanding? What are practical challenges when we apply digital methods to Arabic history? What seem to be particularly promising approaches?</p>
  </li>
</ul>

<p>Contributions are invited from scholars at all career levels, addressing any period and any part of the Middle East and North Africa, broadly defined.</p>

<p>This year we anticipate running the workshop from the Aga Centre in London, with the possibility to have an online component featuring participants who are unable to travel to the UK. As in past years, there is a small budget to provide some travel assistance for scholars outside of London.</p>

<p>Arabic Pasts is co-organized by Hugh Kennedy (SOAS), James McDougall (Oxford), Lorenz Nigst (AKU-ISMC), and Sarah Bowen Savant (AKU-ISMC).</p>

<p>Please submit an abstract of 300 words or less in word document by Tuesday, 19 April 2022 to <a href="mailto:ArabicPastsConf@aku.edu">ArabicPastsConf@aku.edu</a>.</p>]]></content><author><name>Anjum Alam</name></author><category term="" /><category term="" /><category term="events" /><summary type="html"><![CDATA[Arabic Pasts: Histories and Historiographies]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/arabic-pasts/BNF_Arabe_2076_Ahmad_ibn_Hamdan.jpg" /><media:content medium="image" url="http://localhost:4000/images/arabic-pasts/BNF_Arabe_2076_Ahmad_ibn_Hamdan.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Oh Brethren, Where Are Ye? How to search for words and phrases in the OpenITI corpus, demonstrated with the phrase ‘Ikhwan al-Safa’</title><link href="http://localhost:4000/Oh-Brethren-Where-Are-Ye-How-to-search/" rel="alternate" type="text/html" title="Oh Brethren, Where Are Ye? How to search for words and phrases in the OpenITI corpus, demonstrated with the phrase ‘Ikhwan al-Safa’" /><published>2022-02-09T00:00:00+00:00</published><updated>2022-02-09T00:00:00+00:00</updated><id>http://localhost:4000/Oh-Brethren--Where-Are-Ye--How-to-search</id><content type="html" xml:base="http://localhost:4000/Oh-Brethren-Where-Are-Ye-How-to-search/"><![CDATA[<p>The OpenITI corpus is designed to facilitate many different forms of computational analysis. Within the KITAB project we spend the bulk of our time fine-tuning the methods of text reuse and the data it provides on the corpus’ many textual relationships, but we are aware that this is not necessarily the primary interest in digital texts for many scholars. As the continued popularity of the Shamela library and its software suggests, one of the most important functions of a corpus of digital texts is its searchability: scholars want to be able to search for information and locate the usage of names, words and phrases across a vast corpus. In the long run we hope to develop a complex search app by which users will be able to search the OpenITI corpus online, but our colleague Aslisho Qurboniev discovered that doing so is in fact already possible with both of the two text editors we recommend to read texts from the corpus: EditPad Pro and Kate. This is a great and easy method to do searches and it is more reliable than using Shamela. For guidance on installing these editors and the mARkdown highlighting scheme, see <a href="https://kitab-project.org/docs/openITI#5-software-versions-and-installation">here</a>. (Installing the highlighting scheme is not absolutely necessary for simply searching the corpus, but it is nice to be able to fold texts and see the structural tagging to help navigation.)</p>

<p>In this blog post I will explain the method for doing this kind of search in Kate, as this text editor is available for free and functions well on both Mac and Windows. Its only disadvantage is that loading large files takes a little while, and sometimes temporarily freezes the app. The EditPad Pro method follows a similar process and is explained briefly in an appendix at the end of this blog. In the second part of the blog I briefly zoom in on some search results I have come across by using this method for the phrase ‘ikhwan al-safaʾ’, which was famously used by an enigmatic early scientific and philosophical community who wrote a compendium known as the Epistles of the Pure Brethren (<em>Rasaʾil ikhwan al-safaʾ</em>).</p>

<h1 id="searching-the-corpus-with-kate">Searching the corpus with Kate</h1>

<p>To do a search on the OpenITI corpus using this method, it is necessary to download the OpenITI corpus onto your computer. The easiest way to do this is by downloading one of the fixed corpus releases we release twice a year. The most recent release can be found <a href="https://doi.org/10.5281/zenodo.3082463">here</a>. Please note that the current release will take up five gigabytes on your hard drive. With further releases this will likely increase as the corpus is ever expanding. We are also thinking about doing a separate release with only primary texts (that is, no secondary versions of the same text) in the future. For your own convenience it will be best if you move the folder to an easily retrievable location after downloading, for example in your Documents folder.</p>

<p>If you download the OpenITI corpus as a release, all author files will be in a single folder (and not subdivided into quarter centuries like on GitHub) with their books included in their respective subfolder. You can simply direct EditPad Pro or Kate to search through the general OpenITI folder and it will then take into account all these subfolders. If you are interested in the uptake of words and phrases in a particular period, you could create a specific subfolder and copy those texts that fall within that period into a separate folder and direct the text editor to search through it instead of the whole folder. Alternatively, you could also simply download individual text files or 25 year folders you are interested in directly from GitHub and save them in a folder to create your own subcorpus.</p>

<p>Once you have downloaded the corpus, launch the Kate app, click the 'Search and replace' tab, which in Image 1 below is on the bottom left of the app (or use the keyboard shortcut Ctrl+Alt+F on Windows = Cmd+Alt+F on Mac). This will open a dialog box in which you can change the location where Kate will conduct the requested search: either in ‘current file’, in all ‘open files', or 'In Folder'. It is this last option we will use to search through the whole OpenITI corpus.</p>

<p><a href="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image6.png"><img src="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image6.png" alt="" /></a></p>

<p>Image 1: The basic search window in Kate editor</p>

<p>Once the 'In folder' option has been marked, you only have to tell Kate where the folder you want it to look through is situated on your computer. For this you click the folder icon next to the Folder bar (see Image 2), which will open a pop-up where you can direct your computer to where you have stored the OpenITI folder. This should be a familiar procedure if you have ever opened a file from within a text editor like Word or added an attachment to an email</p>

<p><a href="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image4.png"><img src="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image4.png" alt="" /></a></p>

<p>Image 2: Second step of the search in Kate editor – directing Kate to the relevant folder</p>

<p>That’s all! The next step is simply typing your search term or phrase into the 'Find' bar and clicking 'Search'. Kate will then search through all the files contained within the OpenITI folder and list any results which you can then review individually. Due to the amount of files to search through it will take a few minutes to complete, so a perfect time to go and make yourself a cup of coffee.</p>

<p>Kate will list all results, ordered alphabetically (which means chronologically due to how we name files in the corpus). It is possible to copy these results and paste them in a separate document: this will copy the filepath and the line number as well as the place where the result is found, but the results will not be clickable. In EditPad Pro you can do the same, but the result will be clickable. Once the results are displayed (see Image 3), you can click on one of the results and Kate will open the file and take you to the place where the search result is found in the text by highlighting it. As with Shamela, the search via Kate or EditPadPro is not as smart as Google or the passim software we use to detect text reuse. It will not locate words spelt differently than the way you have input it. The inclusion of works digitised by using OCR in newer releases of the corpus, many of which have not yet been closely proofread, as well as the preponderance of typos in texts from online libraries should also be taken into account. It thus remains important to closely check every search result, especially if they come from texts that do not bear the mARkdown tag (although that tag does not necessarily mean a text is entirely reliable or free from typos, only that it has been looked at by at least two different people and its problems/reliability have been assessed). One way to work around this is by using regular expressions (regex), which is useful to learn in general if you are interested in learning some computational skills.</p>

<p><a href="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image5.png"><img src="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image5.png" alt="" /></a></p>

<p>Image 3: 'matches' listed in the search window and highlighted in individual text files.</p>

<h1 id="searching-for-the-ikhwan-al-safa-in-the-openiti-corpus">Searching for the Ikhwan al-safa in the OpenITI corpus</h1>

<p>To illustrate the method, in the following I will show a few results on searching for the phrase 'ikhwan al-safa' in the corpus. Because of the ambiguity of whether or not the digital texts have properly spelt the first and last letters of that phrase with their respective hamzas, I omitted them and told Kate to look instead for 'khwān al-safa' (see image 3). Regex would have helped here to also include cases where the two words are separated: if the space in the search term is replaced with the regular expression [ -؀\r\n]* it will deal with cases where 'ikhwan' and 'al-safaʾ' are separated by a new line, page number, footnote marker and/or milestone number, etc. but not by another Arabic word. (I am grateful to Peter Verkinderen, KITAB’s in-house regex wizard for this advice).</p>

<p>As is clear from the search results — and, to be sure, as is well known among scholars — the phrase 'ikhwan al-safaʾ' did not originate with the enigmatic brotherhood that composed the Epistles. They made use of an existing turn of phrase to designate themselves as a brotherhood that saw itself as exceptionally pure and sincere and which strove to create a broader community built around those principles. Some scholars have suggested that the authors of the epistles took the phrase from <em>Kalila wa-Dimna</em> (notably Ignaz Goldziher), which seems plausible enough given that the epistles refer to <em>Kalila wa-Dimna</em> repeatedly and reproduce some of its stories. Our search results indicate however that the translator of <em>Kalila wa-Dimna</em> himself likely made use of a phrase that was already well attested as a poetic trope and that the authors of the epistles may also have been more broadly inspired. In Image 3 I have opened the earliest search result, a <em>diwan</em> (poetry compilation) of the pre-Islamic poet Aws b. Hajar (he in fact died before the Hijra, year 1 in the OpenITI corpus, but all pre-Islamic authors are filed under that year within OpenITI), which contains a poem in which the phrase is used. In general, results from the earliest centuries need to be interpreted with care as many of these texts are problematic reconstructions. Some of these diwans never even circulated as such in the pre-modern period and are modern compilations. The early transmission history of <em>Kalila wa-Dimna</em> is also all but straightforward, however, as the work of the AnonymClassic project is showing. Nevertheless, it appears that the phrase had some currency already very early on and that the authors of the epistles may have been inspired not just by <em>Kalila wa-Dimna</em> but by a relatively broadly circulating metaphoric designation.</p>

<p>Another very early instance of the phrase, which for sure predates the encyclopaedia and likely also <em>Kalila wa-Dimna</em>, is found in Ibn Hisham’s redaction of Ibn Ishaq’s <em>sira</em> of the Prophet. Here the phrase is used in a poem attributed to Abu Khurāsh in which the death of one of the fighters at the Battle of Hunayn is lamented (PageV02P474 of the file 0213IbnHisham.SiraNabawiyya.Shamela0023833-ara1.completed). A very similar phrase is found in a poem that has been attributed to ʿAli b. Abi Talib (see below).</p>

<p>While I could write much more about the many different results I found, I will in the remainder of this blog continue to focus on a few further poetic usages. Such references are an understudied phenomenon which I believe has great potential for the study of the reception of the Ikhwanian corpus. Coming across one such poetic use initially urged me to conduct this search: on an important 7th/13th century manuscript manuscript of the <em>Rasaʾil ikhwan al-safaʾ</em> a reader wrote a line of poetry the flyleaf (see Image 4).</p>

<p><a href="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image3.png"><img src="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image3.png" alt="" /></a></p>

<p>Image 4: poetic line on flyleaf of Süleymaniye Kütüphanesi MS Esad Efendi 3638</p>

<p>As this reader helpfully notes, this line is taken from a longer poem included in the diwan of the famous 8th/14th century poet Safi al-Din al-Hillī (for an accessible introduction to his life and work, see <a href="https://abbasidhistorypodcast.libsyn.com/ep037-dr-kevin-blankinship-on-af-al-dn-al-ill-1278-1349-ce-poetry-in-the-mamluk-era">this great podcast episode</a>), a delightful reproach to a friend who had taken offence at something unspecified al-Hilli said or wrote. The poem is not explained or introduced in the diwan but it is fairly easy to understand. Al-Hilli wrote many poems in this genre of <em>ikhwaniyyat</em> which boomed in the Islamic Middle Period when poetic communication became much more diverse and socially horizontal, rather than predominantly embedded in hierarchical court settings. While the diwan does not give any further info about the recipient of this poem, it does not give the impression of being addressed to a superior either. Here is the full poem with my translation, with obvious references to the Epistles highlighted in bold. The line cited on the manuscript fly leaf is the third line. (I am grateful to Lorenz Nigst and Aslisho Qurboniev for their advice on this translation)</p>

<p>حَتّامَ أَمنَحُكَ المَوَدَّةَ وَالوَفا      وَتَسومُني قَصدَ القَطيعَةِ وَالجَفا</p>

<p>How I gave friendship and fidelity to you</p>

<p class="text-nowrap">    only to have you impose estrangement and aversion on me
<br />
<br /></p>

<p>يا عاتِباً لِجَريرَةٍ لَم أَجِنها      ظَنّاً بِأَنَّ وَفايَ كانَ تَكَلُّفا</p>

<p>You censured an offence that I did not commit</p>

<p class="text-nowrap">    as if you thought my fidelity was but pretension
<br />
<br /></p>

<p>بِاللَهِ لِم ثَقُلَت عَليكَ رَسائِلي      هَذا وَأَنتَ أَجَلُّ إِخوانِ الصَفا</p>

<p>By God, why do my letters weigh on you</p>

<p class="text-nowrap">    even though you are the loftiest of the Sincere Brethren?
<br />
<br /></p>

<p>وَلِمَ اِطَّلَعتَ عَلى جِبالِ مَوَدَّتي      فَجَعَلتَها بِالهَجرِ قاعاً صَفصَفا</p>

<p>Why did you ascend the mountains of my love</p>

<p class="text-nowrap">    only to make them into a barren wasteland by abandoning them soon after?
<br />
<br /></p>

<p>هَب أَنَّني أَغلَظتُ قَولي عاتِباً      أَيَجوزُ أَن يُقلى الصَديقُ إِذا هَفا</p>

<p>Assuming that I spoke rudely when I scolded you,</p>

<p class="text-nowrap">    does that mean a friend’s lapse gives permission to detest him?
<br />
<br /></p>

<p>إِنَّ الصَديقَ إِذا تَأَكَّدَ حَقُّهُ      بِالوُدِّ أَغلَظَ في العِتابِ وَعَنَّفا</p>

<p>For the friend, if convinced of his right,</p>

<p class="text-nowrap">    will speak coarsely and vehemently in censuring out of affection
<br />
<br /></p>

<p>وَكَذا سَميعُ العَتبِ في حالِ الرِضى   يُغضي لَهُ وَإِذا تَحَرَّفَ حَرَّفا</p>

<p>And just so, he who contentedly hears the censure,</p>

<p class="text-nowrap">    will condone it, even if it is extremely harsh
<br />
<br /></p>

<p>كَالراحِ تُدعى الإِثمَ عِندَ مَلالِها      وَمَعَ الرِضى تُدعى السُلافَ القَرقَفا</p>

<p>Just as wine is called 'sin' (<em>ithm</em>) when people grow weary of it</p>

<p class="text-nowrap">    and a 'vintage' (<em>sulaf</em>) or 'frisson' <em>(qarqaf</em>) when it brings pleasure
<br />
<br /></p>

<p>The fact that al-Hilli does not just use the phrase <em>ikhwan al-safaʾ</em> here, but also <em>rasaʾili</em> to refer to his own letters leaves little doubt that he is here not just evoking a time-worn turn of phrase, but also a text that had by his lifetime become very popular. As my ongoing research into the manuscript tradition of the <em>Rasaʾil ikhwan al-safa</em> indicates, production notably boomed in the 7th/13th century and most prominently in the Ilkhanid realm and sphere of influence where al-Hilli spent a good part of his life. Furthermore, in the first line he uses the word 'al-wafa', which is found in the longer title of the epistles: <em>Rasaʾil ikhwan al-safaʾ wa-khullan (</em>or <em>khillan</em>) <em>al-wafaʾ</em>. Another search I did for the latter phrase in the corpus indicates that this was much less widely used, and that when it was, it tended to refer unambiguously to the Epistles. However, note that the last word in the line referring to <em>ikhwan al-safaʾ</em> is written defectively as <em>safa</em> (that is, without the final <em>hamza</em>) and thus may refer to the hill of Safa in Mecca. Although I think it is more of a case of poetic licence here, some of the usage I came across in other search results does indicate this second meaning, and al-Hilli is possibly deliberately courting ambiguity here. Indeed, in the fourth line of this poem he also refers to the 'mountains of my love' (<em>jibal mawaddati</em>). This may refer to an exceptionally beautiful poem attributed to ʿAli b. Abi Talib (transmitted amongst others by Ibn ʿAsakir) where he refers to the love amongst the Brethren of Safa whose friendship 'we engraved on the sky with pens of fine dust' <em>(naqashna wudd ikhwan al-Safa // bi-aqlam al-habaʾ ʿala al-hawaʾ</em>).</p>

<p>As it turns out, our poem is also not the only one referencing the <em>ikhwan</em> in al-Hilli’s diwan. He does so again, and much less ambiguously, in the first line of a longer 23-line poem inviting a friend to his house in Mardin (this time the topic is introduced in the diwan), where he writes all the <em>hamza</em>s and also uses the phrase <em>khillan al-wafaʾ</em>:</p>

<p>رسائل صدق إخوان الصفاء      تجدد أنس خلان الوفاء</p>

<p>Sincere brethren’s truthful writings</p>

<p class="text-nowrap">   renew the intimacy between faithful friends
<br />
<br /></p>

<p>This is but a very small sampling of the 1694 matches for our phrase identified by Kate in the OpenITI corpus (see Image 3 — however, note that probably at least half of these are duplicates, usages found in two or more different versions of the same text), but it highlights that poetic references to the Ikhwan al-Safaʾ constitute a potentially rich field of enquiry for which this simple search method may be used fruitfully. The existence of a number of versifications of Epistles from the Ikhwanian corpus as well as poems responding to the Epistles’ contents recorded on flyleaves and title pages, which I have come across in my study of the Ikhwanian manuscript tradition suggests that this could figure in a broader evaluation of the literary reception of the Epistles.</p>

<h3 id="appendix-searching-in-editpad-pro">Appendix: Searching in EditPad Pro</h3>

<p>In EditPad Pro: Use Ctrl+F to open the search-and-replace box, and write your search term in the Search field. In the EditPad Pro menu, go to Search &gt; Find on Disk; this will open a dialog box where you can select the folder you want to search.</p>

<p><a href="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image1.png"><img src="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image1.png" alt="" /></a></p>

<p>Image 5: Search on Disk dialog in EditPad Pro. Pro tip: write `\^[01].+(?&lt;!yml)$` in the Regular expression field, after ticking the ‘regular expression’ box: this way, only text files will be searched, and not metadata or other irrelevant files. (Note, this also works in Kate)</p>

<p>If you click the OK button, EditPad Pro will start searching all files and subfolders within that folder. The search results will finally be displayed in a separate window. You can preview the lines that contain the matches inside the search results window; if you double-click on the line number, the text will open in the editor at that location.</p>

<p><a href="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image2.png"><img src="/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image2.png" alt="" /></a></p>

<p>Image 6: EditPad Pro search results</p>]]></content><author><name>Gowaart Van Den Bossche</name></author><category term="" /><category term="" /><category term="corpus" /><category term="markdown" /><category term="search" /><summary type="html"><![CDATA[The OpenITI corpus is designed to facilitate many different forms of computational analysis. Within the KITAB project we spend the bulk of our time fine-tuning the methods of text reuse and the data it provides on the corpus’ many textual relationships, but we are aware that this is not necessarily the primary interest in digital texts for many scholars. As the continued popularity of the Shamela library and its software suggests, one of the most important functions of a corpus of digital texts is its searchability: scholars want to be able to search for information and locate the usage of names, words and phrases across a vast corpus. In the long run we hope to develop a complex search app by which users will be able to search the OpenITI corpus online, but our colleague Aslisho Qurboniev discovered that doing so is in fact already possible with both of the two text editors we recommend to read texts from the corpus: EditPad Pro and Kate. This is a great and easy method to do searches and it is more reliable than using Shamela. For guidance on installing these editors and the mARkdown highlighting scheme, see here. (Installing the highlighting scheme is not absolutely necessary for simply searching the corpus, but it is nice to be able to fold texts and see the structural tagging to help navigation.)]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image6.png" /><media:content medium="image" url="http://localhost:4000/images/blogs/2022-02-09/gowaart_van_den_bossche/media/image6.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">New KITAB visualizations</title><link href="http://localhost:4000/New-KITAB-visualizations/" rel="alternate" type="text/html" title="New KITAB visualizations" /><published>2021-12-03T00:00:00+00:00</published><updated>2021-12-03T00:00:00+00:00</updated><id>http://localhost:4000/New-KITAB-visualizations</id><content type="html" xml:base="http://localhost:4000/New-KITAB-visualizations/"><![CDATA[<p>Much of our work at KITAB involves comparing books in order to understand their relationships. Our main tool for this is the <a href="https://kitab-project.org/methods/text-reuse">passim</a> software, which detects passages two texts have in common (here are some of our blogs about passim: <a href="https://kitab-project.org/Dispatches-from-al-Tabari-7-Text-Reuse/">1</a>, <a href="https://kitab-project.org/a/">2</a>, <a href="https://kitab-project.org/Adventures-in-Alignments-Training-an-Algorithm-to-Recognise-Text-Reuse/">3</a>, <a href="https://kitab-project.org/A-Tale-of-3-Versions/">4</a>). passim produces a lot of data about each pair of passages, including where exactly in both books these passages are found, and how many words and characters the shared passage contains in either book.</p>

<p>For each pair of books, this data is collected in a csv file, which can be loaded into a spreadsheet. In this form, the data is not very human-reader-friendly. In order for us to get an understanding of what all these rows and rows of data mean for the relationship between two books, we use visualizations.</p>

<p>The most common visualization we use to visualize the overall relation between two books, and which is familiar to anyone who has ever read a blog post or attended a lecture on the KITAB project, is what we have started to call our 'scroll' visualization (see Figure 1) - that is scroll in the old-fashioned sense of a rolled-up strip of paper, not the digital-age thing you do with a mouse or on your phone. The team has also been referring to this visualization as the “pairwise visualization”, because it is the visualization we most commonly use to compare pairs of books.</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image1.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image1.png" alt="" /></a></p>

<p><em>Figure 1: scroll visualization of the text reuse between al-Istakhri’s</em> Kitab al-Masalik wa-al-mamalik <em>(top) and Ibn Hawqal’s</em> Kitab Surat al-ard <em>(bottom).</em></p>

<p>This is how you read this visualization (see Figure 2): imagine that we write out the text of both books we compared on a very large scroll, 300 words per line. We then highlight passages that are in both scrolls in red, and connect the location of the passage in scroll 1 to that in scroll 2 with a yellow line (we considered briefly calling this visualization our 'spaghetti' visualization after these yellow lines). Finally, we zoom out so far that we can only see the highlighted passages and the connecting lines.</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image2.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image2.png" alt="" /></a></p>

<p><em>Figure 2: How to interpret a scroll visualization.</em></p>

<p>The red lines give us an impression of how much of the book is reused in the other book, while the yellow lines help us see whether the common passages occur in the same order in both books. In the example in Figures 1 and 2, the red lines show that much of al-Istakhri’s work is reused in Ibn Hawqal’s, and the absence of red lines in some sections of the book shows that Ibn Hawqal did not reuse some sections but added his own information there. (People who know the books will immediately suspect that the large blank section in the first quarter of Ibn Hawqal’s book must be his description of the Maghrib, which is entirely independent from al-Istakhri’s). Meanwhile, the fact that the yellow lines all run nicely parallel shows us that Ibn Hawqal faithfully followed the structure of al-Istakhri’s book. For examples where this is not the case, see Sarah Savant’s <a href="https://kitab-project.org/A-Tale-of-3-Versions/">blog</a> on the different versions of Malik’s al-Muwatta.</p>

<h2 id="kitab-diffviewer">KITAB DiffViewer</h2>

<p>The scroll visualization is very useful for comparing books at a high level. For fine-grained comparisons of the differences and similarities between passages identified by passim as text reuse, we until recently used an online tool called <a href="https://www.diffchecker.com/">Diffchecker</a>.</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image3.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image3.png" alt="" /></a></p>

<p><em>Figure 3: Diffchecker visualization of a passage from Muntajab al-Din’s</em> Fihrist <em>(left) and Agha Buzurg Tihrani’s</em> Dhariʿa <em>(right). Differences are highlighted in darker shade.</em></p>

<p>The tool highlights words that are different between two passages in a darker shade, but it does not do a very good job with Arabic texts: it does not display right-to-left text correctly, and it cannot deal well with the small differences between tokens caused by prefixes and suffixes. From looking only at the coloured areas, not the text, in the example in Figure 3, we get the impression that there are only two short sections in the passage that are similar in both texts. However, when we look closer at the text, we can see that already the first word is highlighted as different, although it is exactly the same, albeit that the Dhariʿa (the text on the right) adds the suffix <em>-hu</em> at the end of the word (تصانيف vs تصانيفه). Similarly, the third word in the <em>Fihrist</em> is identical to the second word in the <em>Dhariʿa</em>, except for a dot on the last letter (نقص vs نقض).</p>

<p>It’s hard to blame the tool for this: like many similar tools, it was mostly designed to detect changes in computer code. Such a comparison between two versions of the same code is called a 'diff' in computer speak - hence the tool’s name 'diffchecker'.</p>

<p>I looked into many other online diff tools, hoping to find one that would work better for our texts. Unfortunately, all tools I checked had the same problem. The most promising one seemed to be <a href="https://en.wikipedia.org/wiki/User:Cacycle/diff">wikEd-diff</a>, a program written to detect and highlight edits in wikipedia articles (see Figure 4). Designed to work with prose written in human languages rather than computer code in mind, it does a better job at catching differences and similarities between two passages of Arabic text, even at a sub-word level. Moreover, it is the only tool I found that can detect blocks of text that were moved rather than added or deleted. Contrary to Diffchecker and other similar tools, however, it displays the two fragments in a single composite (Frankenstein-like) text, with different colours for text that is present only in fragment 1 or fragment 2 (see Figure 4).</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image4.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image4.png" alt="" /></a></p>

<p><em>Figure 4: wikEd-diff visualization of the same two passages as Figure 3, generated with the <a href="http://cacycle.altervista.org/wikEd-diff-tool.html">wikEd-diff online demo tool</a>. Text that is only in fragment 1 (from Muntajab al-Din’s</em> Fihrist <em>) is highlighted in blue, text that is only in fragment 2 (from Agha Buzurg Tihrani’s</em> Dhariʿa <em>) in orange. Text that is present in both fragments but in a different location is placed where it appears in fragment 2 and highlighted in grey; at its location in fragment 1, an arrow is inserted, and when you hover over the arrow with the mouse, the corresponding text in the other fragment is highlighted in a darker grey.</em></p>

<p>This is not easy to read: the display looks cluttered and although the tool selected more text as common to both fragments than Diffchecker, the fact that both alternatives are displayed in the same composite text gives the impression there is much more difference than similarity between the two text fragments.</p>

<p>After giving up hope for an out-of-the-box solution, I started searching for javascript or Python libraries that can be used for analysing and displaying the difference between two strings of text, and which I could use to build a diff tool for our OpenITI texts myself. Again, there are plenty of those (I tried <a href="https://www.npmjs.com/package/diffchecker">diffchecker</a>, <a href="https://github.com/prettydiff/prettydiff/">prettydiff</a>, <a href="https://www.mergely.com/doc">mergely</a>, <a href="https://github.com/rtfpessoa/diff2html">diff2html</a>, <a href="https://github.com/kpdecker/jsdiff">jsdiff</a>, <a href="https://github.com/google/diff-match-patch">diff-match-patch</a>, <a href="https://github.com/liddiard/text-diff">text-diff</a>) but almost all of them are focussed on displaying diffs between two versions of the same program code, rather than prose texts in human languages.</p>

<p>In the end, the best option seemed to be to use the wikEd-diff javascript code to analyse the differences and similarities between the two passages and then to parse and manipulate its html output in order to display both passages in separate fields rather than as one composite text (Figure 5).</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image5.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image5.png" alt="" /></a></p>

<p><em>Figure 5: wikEd-diff output, refined and split into two separate texts (colour coding: blue: only in fragment 1; green: only in fragment 2; orange: in both fragments but in different positions).</em></p>

<p>I also wrote a script to refine the output of the wikEd-diff code to make it handle differences below the word/token level in a better way. Compare, for example, how wikEd-diff marks the first word in the example strings, تصايف / تصانيفه (<em>tasanif / tasanif-hu</em>), as entirely different (Figure 4), and how the refined output (Figure 5) marks only the suffix <em>-hu</em> as different. In the appendix, I will go into a bit more technical detail on how this was done.</p>

<p>The end result is that the commonalities between the two texts are much clearer with the OpenITI Diff Viewer than with diffchecker or the raw wikEd-diff output.</p>

<p>I have embedded this code in an online app that is publicly available at <a href="https://kitab-project.org/diffViewer/">https://kitab-project.org/diffViewer/</a> .</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image6.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image6.png" alt="" /></a></p>

<p><em>Figure 6: OpenITI Diff Viewer interface after loading two texts.</em></p>

<p>The app was optimized for use with our OpenITI texts: for example, by default, all OpenITI mARkdown tags (and all punctuation) are stripped away, and all alif-hamza combinations, ta’ marbutas/final ha’s and alif maqsuras/final ya's are normalized. These settings are optional, however, and can be (de)selected in the Options field (see Figure 7).</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image7.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image7.png" alt="" /></a></p>

<p><em>Figure 7: Diff Viewer options</em></p>

<p>The app has more options: the most useful,in my opinion, is that you can divide the output into lines to make it easier to read the passages side by side (Figure 8). It is usually easy enough to read the beginning of an alignment, but after a couple of lines, it becomes hard to follow where you are in the other fragment, especially if there are many additions/deletions on both sides. This option makes sure that after a divergence between both fragments, both start on the same new line from the point onwards where they converge again.</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image8.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image8.png" alt="" /></a></p>

<p><em>Figure 8: splitting the output into lines for easier reading (compare to Figure 6!).</em></p>

<p>Finally, you can download the diff as an image file by clicking the ‘Download png’ or ‘Download svg’ buttons. Before downloading the image, you can resize the text fields by dragging the right-most margin of the image, and change the font size in ‘Options’, so that it fits the layout of the publication you want to use it in.</p>

<p>In the future, we would also like to provide an option by which you can create a permalink to your diff output, which you can then link to in a publication. This has not yet been implemented, however.</p>

<h2 id="reuse-heat-map">Reuse heat map</h2>

<p>On the other end of the spectrum, we would sometimes like to be able to visualize all reuse one text has in common with all other texts in the corpus (or a selection).</p>

<p>One way I came up with to do this is to use a heat map: a visualization that indicates by the use of colours how intensely each part of a text has been reused.</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image9.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image9.png" alt="" /></a></p>

<p><em>Figure 9: heat map of the reuse of al-Tabari’s</em> Tarikh <em>. The number of times each character in the text features in a reuse alignment detected by passim is indicated by colours (see the colour scale on the right).</em></p>

<p>Take, for example, the heat map of text reuse of al-Tabari’s <em>Tarikh</em> (Figure 9). The visualization works in a similar way to the book-to-book scroll visualization (Figure 2): the graph represents a scroll, in which each line represents 300 words. Whereas the book-to-book visualization highlights all passages both books have in common in red, this visualization highlights each character in a colour that reflects the number of times it appears in an alignment with another text in the corpus, as detected by passim: in the example in Figure 9, any sections marked in light yellow feature less than 10 times in a reuse instance, while those marked in dark purple were reused up to 120 times.</p>

<p>This allows us to see that not all parts of the texts were as intensively reused as others: there is a clear concentration of darker (more reused) passages between (roughly) lines 700 and 1200. We can go back to the text to find out which section is so much more intensively reused than the other sections of the work: each 300-word section that is represented by a line in the scroll is marked in OpenITI texts with a numbered 'milestone' tag within the text (for example, the end of the first 300-word chunk in the text is marked with the tag `ms001`). Using these milestone numbers, we can see the intensively reused section in the heatmap agrees with the section on the life of the Prophet Muḥammad: the section titled <em>al-qawl fi al-sira al-nabawiyya</em> starts in the milestone 685, while the section on Muḥammad’s death ends in al-Ṭabarī’s text in milestone 1176.</p>

<p>Heat maps can also be used to investigate the spread of reuse over time. One useful application is to split the text reuse into reuse of earlier and later works.</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image10.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image10.png" alt="" /></a></p>

<p><em>Figure 10: text reuse of al-Tabari’s</em> Tarikh <em>in books written by authors who died before and after al-Tabari.</em></p>

<p>Figure 10 clearly shows that the material al-Tabari used for his <em>Tarikh</em> is only partially known from older sources in the corpus: especially the sections between the death of the Prophet and the start of the Umayyad period, and the later ʿAbbāsid period are sparsely documented. Of course, this does not mean that al-Ṭabarī uses original material here; rather, that the material he used did not make it into the corpus. Especially interesting in this sense is the tight-knit block of reuse just between lines 4100 and 4200: when we look at where this reuse comes from, we can see that it comes from the only extant part of Ibn Abi Tahir Tayfur’s <em>Kitab Baghdad</em>. It is therefore very likely that if the rest of that book were extant, passim would detect much more reuse for the Abbasid part of the <em>Tarikh</em>. Sarah Savant<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> has argued for al-Tabari’s heavy reuse of Ibn Abi Tahir’s text (without mentioning the author) based on an analysis of al-Tabari’s citation patterns in the Tarikh.</p>

<p>We can also split up the reuse data of the later sources into smaller periods, to see whether the reuse is more or less evenly spread over time. For example, if we split up the reuse of Tabari’s <em>Tarikh</em> in later texts into 200-year periods (Figure 11), we see that the section on the life of Muhammad consistently remains the heaviest reused section, but that the later parts of the work lose their importance after the 10th hijri century.</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image11.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image11.png" alt="" /></a></p>

<p><em>Figure 11: Reuse of al-Tabari’s</em> Tarikh <em>in later texts, grouped by 200-year periods</em></p>

<p>This visualization is generated using a Python script; the heatmaps it outputs are interactive (you can zoom in, and get a count of the number of times a specific word is reused when you move your mouse over a coloured bar; it could also show the URIs of all texts that reuse those specific words). See an example <a href="/tabari-heat-map">here</a>.</p>

<p>In the coming months, we will build a publicly available online app to build such heatmaps, to be released when the KITAB data becomes available.</p>

<h2 id="bibliography">Bibliography</h2>

<p>Heckel, Paul, ‘<a href="http://documents.scribd.com/docs/10ro9oowpo1h81pgh1as.pdf">A Technique for Isolating Differences Between Files</a>’, <em>Communications of the ACM</em> 21/4 (1978), 264-268.</p>

<p>Savant, Sarah Bowen, ‘Al-Ṭabarī’s Unacknowledged Debt to Ibn Abī Ṭāhir Ṭayfūr’, forthcoming.</p>

<h2 id="appendix">Appendix</h2>

<p>The wikEd-diff code is an implementation of an algorithm consisting of six steps, first described by Paul Heckel in his 1978 article ‘<a href="http://documents.scribd.com/docs/10ro9oowpo1h81pgh1as.pdf">A Technique for Isolating Differences Between Files</a>’. The algorithm tries to find the most likely steps by which one string (s1) was turned into another string (s2) by three different types of actions: insertion, deletion, moving. The idea is simple: both strings (s1 and s2) are split into tokens, and tokens that appear exactly once in each string are used as anchors. Next, the tokens before and after those anchors are compared in a number of further steps. The end result is that each token in s2 is marked as either common to both strings, or inserted / deleted / moved to another position in s2 as compared to s1.</p>

<p>The WikEd-diff code outputs a single html string in which the inserted, deleted and moved characters are enclosed in span tags with different classes for each type (see Figure 5):</p>

<ul>
  <li>
    <p>inserts: `class="wikEdDiffInsert"`</p>
  </li>
  <li>
    <p>deletions: `class="wikEdDiffDelete"`</p>
  </li>
  <li>
    <p>moves: characters in s2 are in a span with `class="wikEdDiffBlock"`, while the position of these characters in s1 is marked with a placeholder character in a span with class `wikEdDiffMarkRight` or `wikEdDiffMarkLeft` (depending on whether the text was moved to the left or right in s2)</p>
  </li>
</ul>

<p>Characters that both strings have in common are included as plain text (without tags).</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image12.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image12.png" alt="" /></a></p>

<p><em>Figure 12: Simplified and abbreviated extract of the output of the wikEd-diff code. Spans are highlighted in the same colours as in Figure 4.</em></p>

<p>I wrote a script that splits this composite html text into two separate html strings (output1 and output2) in order to display them side by side: untagged (shared) text is added to both output strings, `wikEdDiffInsert` and `wikEdDiffBlock` spans only to output2, `wikEdDiffDelete` and `wikEdDiffMarkRight`/`wikEdDiffMarkLeft` spans only to output1 (Figure 13).</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image13.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image13.png" alt="" /></a></p>

<p><em>Figure 13: wikEd-diff output split into two separate texts (blue: only in s1, green: only in s2, orange: in s1 and s2 but in different positions). Generated from the wikEd-diff output in Figure 4.</em></p>

<p>This works, but I noticed that the output of the wikEd-diff code is not as fine-grained as we’d like: more often than not, it will tag an entire word as insertion/deletion even if the only difference is a prefix or a suffix, or a single character. For example, in the first line of Figures 4, 12 and 13, you can see that like diffchecker, wikEd-diff marks تصايف / تصانيفه (<em>tasanif / tasanif-hu</em>) as entirely different tokens, although they differ only by one character. The same goes for the words نقص / نقض and التصفح / التصفيح on the same line.</p>

<p><a href="/images/blogs/2021-12-03/peter_verkinderen/media/image5.png"><img src="/images/blogs/2021-12-03/peter_verkinderen/media/image5.png" alt="" /></a></p>

<p><em>Figure 14: wikEd-diff output split into two separate texts (blue: only in s1, green: only in s2, orange: in s1 and s2 but in different positions) and refined using shingled 3-grams.</em></p>

<p>As a next step, I wrote my own implementation of (the first five steps) in Heckel’s algorithm in order to finetune the output of the script: each text inside a span is divided into shingled n-grams (default: n = 3 characters; this can be changed under “Options” in the app, see Figure 5), and then these n-grams are used as tokens for Heckel’s algorithm. This significantly improves the output: for example, in the first line of Figure 14, you can see that the refined output correctly identifies the word تصانيف as shared between both strings, with only the suffix <em>-hu</em> ه tagged as addition in string 2. Similarly, only the last letter in نقص / نقض is tagged as different in both strings.</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>Sarah Bowen Savant, ‘Al-Ṭabarī’s Unacknowledged Debt to Ibn Abī Ṭāhir Ṭayfūr’, forthcoming. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>]]></content><author><name>Peter Verkinderen</name></author><category term="" /><category term="" /><category term="viz" /><category term="passim" /><summary type="html"><![CDATA[Much of our work at KITAB involves comparing books in order to understand their relationships. Our main tool for this is the passim software, which detects passages two texts have in common (here are some of our blogs about passim: 1, 2, 3, 4). passim produces a lot of data about each pair of passages, including where exactly in both books these passages are found, and how many words and characters the shared passage contains in either book.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/blogs/2021-12-03/peter_verkinderen/media/image10.png" /><media:content medium="image" url="http://localhost:4000/images/blogs/2021-12-03/peter_verkinderen/media/image10.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Some Suggestions on Using OpenITI Corpus to Present Enhanced Digital Versions of Large Collections: The Case of al-Dhari‘a Ila Tasanif al-Shi‘a</title><link href="http://localhost:4000/Some-Suggestions-on-Using-OpenITI-Corpus/" rel="alternate" type="text/html" title="Some Suggestions on Using OpenITI Corpus to Present Enhanced Digital Versions of Large Collections: The Case of al-Dhari‘a Ila Tasanif al-Shi‘a" /><published>2021-11-22T00:00:00+00:00</published><updated>2021-11-22T00:00:00+00:00</updated><id>http://localhost:4000/Some-Suggestions-on-Using-OpenITI-Corpus</id><content type="html" xml:base="http://localhost:4000/Some-Suggestions-on-Using-OpenITI-Corpus/"><![CDATA[<p>Tagging the structure of the texts in OpenITI corpus is an important step towards the ultimate goal of the <a href="https://kitab-project.org/">KITAB project</a>—Studying the Arabic textual tradition using text reuse detection (for a detailed description of the tagging process, see my other blog post <a href="https://kitab-project.org/Tagging-the-Structure-of-Texts-in-the-OPENITI-Corpus/">here</a>). However, its application goes much beyond the aims set for this project. In the first place, it creates a corpus of manually-tagged texts, annotated by human annotators and reviewed by second annotators, to which readers have access, with an interactive space enabling them to suggest corrections for any problem in the tags or in any part of the text itself through the <a href="https://github.com/OpenITI/Annotation/issues">issues</a> reporting mechanism on our GitHub page. Besides, with a touch of creativity, such a corpus developed by spending so much time on preparing each single text can be freely used as a base by specialists who decide to work on specific texts in their area of specialty. In this blog post, I will try to explain how our annotated texts can be used to present enhanced versions of the texts, especially large biographical/bibliographical collections. By enhanced version, I mean a digital (and preferably online) version modified in order to facilitate using the content of the text for readers and also facilitate doing research on the text (or even more broadly on the genre of the text) for specialists. The text I will use here as an example is the famous Shiʿi bibliographical collection <a href="https://github.com/OpenITI/1400AH/tree/master/data/1389AghaBuzurgTihrani/1389AghaBuzurgTihrani.DharicaIlaTasanifShica"><em>al-Dhari’a ila tasanif al-shi’a</em></a>. Nevertheless, the suggestions and methods presented here are by no means limited to this text and can be applied to any other tagged bibliographical/biographical text on our corpus. To show how our tagged texts can be used for this purpose, first I will briefly explain what I, as the annotator, have done on it and will make some preliminary suggestions to improve the quality of the text; then I will show a few possibilities for the corpus which can be helpful for a wider audience interested in the text.</p>

<p><em>Al-Dhari’a</em> is the largest bibliographical collection indexing the Shiʿi written tradition in Arabic and Persian (and occasionally Turkish and Urdu) in 29 printed volumes and around 55000 entries, compiled by <a href="http://dx.doi.org/10.1163/1573-3912_islam_SIM_7548">Agha Buzurg al-Tihrani</a> (1293/1876-1389/1970) in a span of 60 years searching through around 60 libraries in several countries from Iran and Iraq to Syria and Egypt (find the PDF <a href="https://archive.org/details/alzariah">here</a>). The text has a very clear structure with numbered entries which are the titles of the texts (manuscripts or published) sorted alphabetically according to the first letter. There are also cross-references which are not numbered. So, as the first step, I tagged all the entries as simple entries (### $), and cross-references with an asterisk (### $ *), and then I checked the sequentiality of the numbered entries through a Python script. Hundreds of numbers were typed incorrectly in our digital version, which I corrected manually. Entries that did not have a number or had duplicate numbers in the printed edition, I tagged with a ### $ + (see Figure 1) (however, it is not known whether such numbering problems should be attributed to the original manuscript or to the typists of the printed edition). In an enhanced digital version, the cross-references would be linked to their main entries, and a secondary numbering system could be set up to correct the incorrect numbers in the printed edition.</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image1.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image1.png" alt="" /></a></p>

<p><strong>Figure 1</strong>: Screenshot of the folded text to show only the headers in EditPad Pro: a cross-reference tagged as ### $ * and two duplicate numbers tagged as ### $ +.</p>

<p>The categorisation of the headers should also be modified in an enhanced version. The entries are sorted according to their first alphabetical letter. So, the first-level headers (tagged with one pipe: ### |) are successive alphabetical letters. Occasionally, the author has introduced second-level headers (tagged with two pipes: ### ||) to group texts that have the first word of the title in common, or belong to a specific genre. Since the <a href="https://alraqmiyyat.github.io/mARkdown/">OpenITI mARkdown annotation system</a> does not include closing tags, I used blank second-level headers to mark the end of these sections (Figure 2). Appropriate headers can be added in square brackets for all of such sub-categories to facilitate navigation. The other problem in the categorisation of the headers is that in the fourth volume (and in a very few cases in other volumes), after the first-level alphabetical headers, there is an additional layer of headers based on the second alphabetical letter of the entries, which has made the levelling of the whole text inconsistent (see Figure 3). In an improved version, the text could be made more accessible by extending this secondary level based on the second letter to the navigation of the entire text (in a way that makes clear this is done by the annotator, not by the author). So, the first-level headers will be the first alphabetical letter of the entries; the second-level headers will be the second alphabetical letter of the entries; and the third-level headers will be the genre or the first word of the title of the books.</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image2.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image2.png" alt="" /></a></p>

<p><strong>Figure 2</strong>: Screenshot of the folded text to show only the headers in EditPad Pro: a blank second-level header (### ||) showing the end of the previous second-level section.</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image3.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image3.png" alt="" /></a></p>

<p><strong>Figure 3</strong>: Screenshot of the folded text to show only the headers in EditPad Pro: an additional layer of categorisation applied occasionally in the fourth volume based on the second alphabetical letter of the entries.</p>

<p>A major issue in most large collections that needs to be dealt with is its appendices or supplements, compiled by the original author or by subsequent writers. In this case, the last volume of the text is an appendix compiled by the original author alphabetically indexing the texts he has found after publishing his book. Besides, the text has several supplements compiled by subsequent authors to complement the entries. An enhanced digital version offers the possibility to add links to these supplements. The entries indexed in the author’s appendix and the ones indexed in the supplements could be integrated into the text using abbreviations showing from which text each entry is drawn. I have created a sample in Figure 4 in which ABT-SUP stands for the entries taken from the author’s supplement; MAR stands for the entries taken from a contemporary supplement written by Muhammad Ali al-Rawadati entitled <a href="https://ebookshia.com/books/view/1106/%D8%AA%DA%A9%D9%85%D9%84%D8%A9+%D8%A7%D9%84%D8%B0%D8%B1%DB%8C%D8%B9%D8%A9+%D8%A7%D9%84%DB%8C+%D8%AA%D8%B5%D8%A7%D9%86%DB%8C%D9%81+%D8%A7%D9%84%D8%B4%DB%8C%D8%B9%D8%A9+%28%D8%AC%D9%84%D8%AF+1%29"><em>Takmilat</em> <em>al-Dhari’a ila tasanif al-Shi’a</em></a>; and MTB stands for the entries taken from another contemporary supplement written by Muhammad al-Tabataba’i al-Bihbahani entitled <a href="https://noorlib.ir/book/view/18065?viewType=pdf"><em>al-Shari’a ila istidrak al-Dhari’a</em></a>. Apart from the entries of the supplements, some of the entries indexed in the original text could also be linked to their correct places. The author introduces new texts that should have been mentioned in previous volumes after the phrase ‘قد فاتنا ذكره في محله’. For all such cases, links could be added to the relevant places in previous volumes. I showed one case in the figure with ABT-M which stands for Agha Buzurg al-Tihrani matn. Such an abbreviation system will make a digital version in which the readers have access to all the entries both in the original text and in the supplements in a successive order, while at the same time, the entries belong to each specific text is clearly recognisable, with the ability of adding the entries in newly-found or newly-compiled supplements.</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image4.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image4.png" alt="" /></a></p>

<p><strong>Figure 4</strong>: A sample integrating three entries from the supplements plus one from the original text placed in its correct position. The first number is the successive number for all entries. The second one which is in parenthesis shows that the number either belongs to the original text, or is added (by a plus sign) from a supplement. The abbreviation and the following PAGE/NO shows the page number and the entry number of the supplement from which the entry is drawn.</p>

<h2 id="named-entities">Named Entities</h2>

<p>Preparing the text’s indexes (list of the names of people, places, etc.) will be greatly facilitated through this tagging method. Since Arabic keyboards are not uniform and often use different Unicode codes for the same letters, the first step in preparing indexes is to homogenise the letters (this is required since many of the large texts are typed by several typists, or produced by joining sections from different sources). The next step is tagging the names inside the text through a combination of automatic tagging and human annotation (Ideally, tagging the information inside the texts will be part of the project’s <a href="https://maximromanov.github.io/mARkdown/">analytical annotation</a> phase which should be done according to individual researchers’ objectives. However, given the limitations in resources, this may take years). The text in question here, for example, is much more than a bibliographical collection, and in many cases, presents very useful information about the authors of the entries, or sometimes even the scribes of the manuscripts of the entries. Besides, the name of an author may be repeated several times in the text. So, the name of each person should have an in-text link showing in a pop-up window all the other places where that name appears in the text. This would allow the readers to have quick access to all the books written by each author and also his biographical information in case it is available in the text (the indexes that have been prepared for texts, sometimes published separately, can be used as a base here. See an index of names for <em>al-Dhari’a</em> <a href="https://noorlib.ir/book/view/18064?viewType=pdf">here</a> for example). If the author is well-known, a link to EI2, EI3 or any other modern encyclopedia, or name authority files (like <a href="http://viaf.org/">VIAF</a>) can complement the collection of the links in the pop-up window; otherwise, the links will be a good starting point for collecting information about less well-known authors or even the scribes. Besides, tagging other names in the text will also provide a great opportunity for scholars who will work on different aspects of the text. As an example, in many cases, the author mentions the names of the libraries in which he has found the books he introduces. Tagging the names of the libraries will enable the scholars interested in the history of libraries in Islamic world to reconstruct the lost stock of the libraries to some extent. Furthermore, the entries that have been published up to now can be linked to their respective items in the <a href="https://www.worldcat.org/">WorldCat</a> database. This will allow us to have a list of the books that are lost, or are extant but have not been published yet.</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image5.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image5.png" alt="" /></a></p>

<p><strong>Figure 5</strong>: Items need to be tagged for producing a comprehensive index, marked with red rectangles.</p>

<h2 id="text-reuse-data">Text Reuse Data</h2>

<p>The KITAB team’s text reuse data could enrich an enhanced digital version. The team uses the <a href="https://github.com/dasmiq/passim">passim</a> algorithm to compare all texts in the corpus with each other and find instances where a pair of texts have passages in common. This data could be used to find out which parts of the text are drawn from previous texts and which parts are repeated in subsequent texts—a process which not only helps in any research about the text, but also in editing the text or reconstructing its lost sections (see Figure 6). Since large texts are more likely to extensively quote previous sources and be quoted in later sources, running passim on them will most probably bring very helpful results (for a general description of passim see <a href="https://kitab-project.org/methods/text-reuse">here</a>. There are some other blog posts on our website about it: <a href="https://kitab-project.org/a/">1</a>, <a href="https://kitab-project.org/Adventures-in-Alignments-Training-an-Algorithm-to-Recognise-Text-Reuse/">2</a>, <a href="https://kitab-project.org/Algorithmic-Reading-of-Shi%CA%BFi-Hadith-Collections-Direct-Borrowing-and-Common-Sources/">3</a>, <a href="https://kitab-project.org/On-Commentaries,-Digressions,-Transtextualities,-and-Rabbit-Holes/">4</a>).</p>

<table>
  <tbody>
    <tr>
      <td><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image7.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image7.png" alt="" /></a></td>
    </tr>
  </tbody>
</table>

<p><strong>Figure 6</strong>: A list of 25 texts written by authors who died before Agha Buzurg for which passim has detected the most cases of text reuse with <em>al-Dhari’a</em> on the left, and a list of the texts written by authors who died after Agha Buzurg for which passim has detected one or more cases of text reuse with <em>al-Dhari’a</em> on the right (the columns on the right side of both lists show the number of instances of text reuse between the text and <em>al-Dhari’a</em>).</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image8.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image8.png" alt="" /></a></p>

<p><strong>Figure 7</strong>: Graphical representation of the sections of <em>al-Dhari’a</em> that are reused in all the texts on the corpus written by authors who died before and after Agha Buzurg. Darker colours signify more cases of text reuse in that section of the text.</p>

<p>Passim can also be run on a pair of texts to find similar passages. Figure 8 is the result of passim on the pair <em>al-Dhari’a</em> and Muntajab al-Din Ibn Babawayh’s <em>al-Fihrist</em>, another Shiʿi bibliography written in the 6^th^/12^th^ century, showing which parts of <em>al-Dhari’a</em> are likely to be drawn from this text.</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image9.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image9.png" alt="" /></a></p>

<p><strong>Figure 8</strong>: A list of the sections of <em>al-Dhari’a</em> that are taken from Muntajab al-Din’s <em>al-Fihrist</em> based on the milestone IDs of the two texts.</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image10.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image10.png" alt="" /></a></p>

<p><strong>Figure 9</strong>: Graphical representation of the information in Figure 8, showing the distribution of the reused passages of <em>al-Fihrist</em> (on the bottom) in <em>al-Dhari’a</em> (on the top). As it is evident, the cases of reuse are very sparse in comparison with the texts at the top of the table in Figure 6. However, for a detailed analysis of the text, they could still be of importance.</p>

<p>After finding similar passages in a pair of texts, it will also be possible to observe the differences between them using our text-comparing app <a href="https://pverkind.github.io/OpenITIdiffViewer/">OpenITI Diff viewer</a> (see Figure 10). The app can also be used for a second function. The OpenITI corpus contains different digital versions of the same texts —sometimes different digitisations of the same paper edition, and sometimes of different printed editions. Thus, most folders contain more than one edition of the text (this is not the case about <em>al-Dhari’a</em> which is a recent compilation most of which was published while the author was still alive). So, the app also enables specialist scholars (those who intend to present a newer edition of the text, for example) to compare different printed editions and easily observe the differences between them. This will save a lot of time and energy that close reading of the texts for comparison would require.</p>

<p><a href="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image11.png"><img src="/images/blogs/2021-11-22/hamid_reza_hakimi/media/image11.png" alt="" /></a></p>

<p><strong>Figure 10</strong>: Using OpenITI Diff viewer app to compare a paragraph in <em>Al-Dhari’a</em> with the corresponding paragraph detected as a text reuse case in Muntajab al-Din’s <em>al-Fihrist</em> (the fifth case in Figure 8).</p>

<p>Last of all, let me emphasise again that the issues considered here are the most typical issues that can be enhanced in the digital versions of all large biographical/bibliographical texts. For an enhanced version, almost all such texts have a numbering system that need to be corrected; have categorised headers (usually alphabetical) that should be revised; have some supplements, written either by the original author or by the subsequent authors, that need to be integrated into the text (many of the supplements are also available on our corpus and are ready to be used for this purpose); need indexes and in-text links that are vital for mining the information inside the text (which can be prepared by tagging the necessary items inside the text by specialists); need to be collated with other editions through digital methods; and need to be set against preceding and following texts to discover which parts of their information is abstracted from previous sources and which parts are reproduced in subsequent texts. The tagged texts in OpenITI corpus, although not necessarily aimed at resolving all of the mentioned issues, provide an unequalled facility which paves the way for scholars and specialists in the field to deal with each one of them. Highly ambitious projects might go far beyond this. In this case, for example, it would not be far-fetched for a team of specialist researchers and editors to embark upon performing the same process on other Shiʿi bibliographical collections on the corpus, as <a href="https://github.com/OpenITI/0475AH/tree/master/data/0460ShaykhTusi/0460ShaykhTusi.Fihrist"><em>al-Fihrist</em></a> by Shaykh Tusi (d. 460) or <a href="https://github.com/OpenITI/0575AH/tree/master/data/0575IbnBabawayh/0575IbnBabawayh.Fihrist"><em>al-Fihrist</em></a> by Muntajab al-Din (d. 575), aiming finally at creating the most comprehensive Shiʿi bibliography by joining all the collections together. The whole point is that the same process can be carried out on any other biographical/bibliographical collection (or set of collections) in the corpus in any given field.</p>]]></content><author><name>Hamid Reza Hakimi</name></author><category term="" /><category term="" /><category term="viz" /><category term="markdown" /><category term="corpus" /><summary type="html"><![CDATA[Tagging the structure of the texts in OpenITI corpus is an important step towards the ultimate goal of the KITAB project—Studying the Arabic textual tradition using text reuse detection (for a detailed description of the tagging process, see my other blog post here). However, its application goes much beyond the aims set for this project. In the first place, it creates a corpus of manually-tagged texts, annotated by human annotators and reviewed by second annotators, to which readers have access, with an interactive space enabling them to suggest corrections for any problem in the tags or in any part of the text itself through the issues reporting mechanism on our GitHub page. Besides, with a touch of creativity, such a corpus developed by spending so much time on preparing each single text can be freely used as a base by specialists who decide to work on specific texts in their area of specialty. In this blog post, I will try to explain how our annotated texts can be used to present enhanced versions of the texts, especially large biographical/bibliographical collections. By enhanced version, I mean a digital (and preferably online) version modified in order to facilitate using the content of the text for readers and also facilitate doing research on the text (or even more broadly on the genre of the text) for specialists. The text I will use here as an example is the famous Shiʿi bibliographical collection al-Dhari’a ila tasanif al-shi’a. Nevertheless, the suggestions and methods presented here are by no means limited to this text and can be applied to any other tagged bibliographical/biographical text on our corpus. To show how our tagged texts can be used for this purpose, first I will briefly explain what I, as the annotator, have done on it and will make some preliminary suggestions to improve the quality of the text; then I will show a few possibilities for the corpus which can be helpful for a wider audience interested in the text.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/blogs/2021-11-22/hamid_reza_hakimi/media/image2.png" /><media:content medium="image" url="http://localhost:4000/images/blogs/2021-11-22/hamid_reza_hakimi/media/image2.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Dispatches from al-Tabari 8: The Afterlife of al-Tabari in Quotations</title><link href="http://localhost:4000/Dispatches-from-al-Tabari-8-The-Afterli/" rel="alternate" type="text/html" title="Dispatches from al-Tabari 8: The Afterlife of al-Tabari in Quotations" /><published>2021-11-01T00:00:00+00:00</published><updated>2021-11-01T00:00:00+00:00</updated><id>http://localhost:4000/Dispatches-from-al-Tabari-8--The-Afterli</id><content type="html" xml:base="http://localhost:4000/Dispatches-from-al-Tabari-8-The-Afterli/"><![CDATA[<p>In this series of blog posts, we have argued for the imperative to rethink writerly culture in ways that allow for a more meaningful exploration of al-Tabari’s (d. 310/923) sources. We have also advanced a more general argument about the nature of writing in the period in which al-Tabari lived. The question that we should be asking is not whether a particular piece of writing constituted a published, redacted book but rather what forms writing took, what evidence we have of these forms in the works that survive, and how ideas about writing itself might have contributed to the evolution of the tradition – including the loss and oblivion of many of its layers.</p>

<p>We have observed that al-Tabari rarely refers to titled works as his sources. Interestingly, Yaqut also fails to mention titles for al-Tabari’s sources in his discussion of his famed predecessor’s sources. Instead, he refers to ‘the book’, <em>kitab</em>, of so-and-so. For example, Yaqut shares a report noting that al-Tabari failed to use the <em>kitab</em> of Muhammad b. al-Saʾib al-Kalbi or those of Muqatil b. Sulayman or Muhammad b. ʿUmar al-Waqidi when composing his <em>tafsir</em> (Yaqut’s source makes the point that al-Tabari did use these books in writing up his <em>taʿrikh</em>). Yaqut uses the same general terminology – the <em>kitab</em> of so-and-so – when describing the sources that al-Tabari did use when he wrote about <em>taʾrikh</em>, <em>siyar</em> and <em>akhbar</em>.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></p>

<p>Al-Tabari’s own writings were recognised early on as important works in their own right. His students copied them, and their titles are recorded in the early biographical works. Yaqut reproduces a comment he says he found in a volume of al-Tabari’s <em>Tafsir</em> in the handwriting of al-Tabari’s student Abu Muhammad ʿAbd Allah b. Aḥmad b. Jaʿfar al-Farghani (d. 362/972–3):</p>

<blockquote>
  <p>Dear ʿAli b. ʿImran and Ibrahim b. Muhammad, I have given you an <em>ijaza</em> (<em>ajaztu la-ka</em>) for the following books which I heard from Abu Jaʿfar al-Tabari (God have mercy on him!): the book on <em>tafsir</em>, called <em>Jamiʿ al-bayan ʿan taʾwil ay al-Qurʾan</em> and the book, <em>Taʾrikh al-rusul wa’l-anbiyāʾ wa-l-muluk wa-l-khulafaʾ</em>, both of which I heard (<em>samiʿtu</em>); for <em>al-Qaṭʿayn min al-Kitab</em>, which I did not hear, but which I obtained through an <em>ijaza</em>; the book treating the dating of transmitters (<em>rijal</em>), called <em>Dhayl al-mudhayyal </em>…<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup></p>
</blockquote>

<p>Al-Farghani is remembered as a major transmitter of al-Tabari’s works. He wrote a continuation of the <em>Taʾrikh</em>, and his son Abu Mansur Ahmad b. ʿAbd Allah in turn wrote a continuation of the continuation.<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup> In the comment quoted by Yaqut, he tells two people – perhaps his own students – that he has received al-Tabari’s two major works in person through dictation. The <em>al-Qatʿayn min al-Kitab</em> was transmitted through a mechanism that granted him permission to transmit the work without having heard it read aloud.</p>

<p>The term <em>al-qaṭʿayn</em> is a curious one. Yaqut subsequently quotes Abu al-Hasan b. al-Mughallis who describes the contents of the <em>Taʾrikh</em>, and says the term <em>al-qatʿayn</em> refers to the <em>qatʿ</em> of the Umayyads and the <em>qatʿ</em> of the ʿAbbasids.<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">4</a></sup> Ibn al-Nadim (d. 385/995) also refers to <em>qatʿan</em>, when describing the <em>Taʾrikh</em>. He says that al-Tabari added the <em>qatʿan</em> to the <em>Taʾrikh</em> as well as other contents that ran up to the year 302.<sup id="fnref:5" role="doc-noteref"><a href="#fn:5" class="footnote" rel="footnote">5</a></sup> This may well suggest an original conception of the <em>Taʾrikh</em> that ended prior to the Umayyad period.</p>

<p>For al-Tabari, and also his immediate readers, the <em>Taʾrikh</em> therefore might have been viewed not as a continuous presentation of history, but rather as discrete segments added together and comprising it. Readers would know to read the <em>Taʾrikh</em> differently depending on where in the narrative they landed. Segments on the Prophet’s life would be read differently than those on the Umayyads not just because of the topic, but also because of the manner of assembly.</p>

<p>What authorized breaking books up? A significant factor would have been knowledge of their assembly, as was the case with the <em>Taʾrikh</em> - both of the individual reports and also of the larger segments (e.g., the <em>qatʿayn</em>/<em>qatʿan</em>).</p>

<h2 id="citing-al-tabari">Citing al-Tabari</h2>

<p>We should not assume that al-Tabari’s words were conveyed onwards in the form of published works, in the sense described by Schoeler. Nor should we assume that a person who passed on information from one of al-Tabari’s books necessarily had access to the whole work; we know that later authors did not, and even early users of his oeuvre may not have had the complete texts at their disposal. In the long term, the manuscript evidence points even more strongly to the partial transmission of al-Tabari’s works. For example, there is a not a single complete manuscript witness of the <em>Taʾrikh</em>. Our text reuse data shows, furthermore, just how extensively the works were excerpted and reused at an early date and for centuries afterwards.</p>

<p>Citations of al-Tabari point to a fragmentary reception of his writings, where subsequent generations passed on his works without direct reference to his works.</p>

<p>We have just begun work on a further data set that documents the afterlife of al-Tabari’s writings using manuscripts, text reuse data and citations of his works and his name. Within our data, we can already see that the <em>haddathani/haddathana</em> formula was used to refer to subsequent persons’ connections back to him in a way that suggests his words passed into notebooks much like his teachers’ words had done. Like al-Tabari, these people also seem to have copied his material into notes that were then recycled into other works, some of which have come down to us. Although more work needs to be done to understand the usages of the <em>haddathani/haddathana</em> formula in specific later works and contexts, it is noteworthy that it continued at all. Its persistence seems consistent with what scholars have described as the ongoing prestige of aurality.<sup id="fnref:6" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">6</a></sup></p>

<p>To locate citations of al-Tabari, we created a regular expression that searched our database of machine-readable files of books written in the roughly 260-year period between al-Tabari’s death in 310/923 and the death of Ibn ʿAsākir in 571/1176. Our search targeted the following variant forms of Abu Jaʿfar Muhammad b. Jarir al-Tabari’s name combined with <em>haddathani/haddathana</em> and its variants (a method similar to that which produced our data set on al-Tabari’s three books).</p>

<p>محمد بن جرير</p>

<p>أبي جعفر الطبري</p>

<p>أبو جعفر الطبري</p>

<p>الطبري</p>

<p>أبا جعفر الطبري</p>

<p>أبي جعفر محمد بن جرير الطبري</p>

<p>أبو جعفر محمد بن جرير الطبري</p>

<p>أبا جعفر محمد بن جرير الطبري</p>

<p>This search did not catch all occurrences of al-Tabari’s name in <em>isnad</em>s written after his lifetime, because we excluded certain surface forms (such as Abu Jaʿfar and Ibn Jarir) that would have produced too many false hits. Even with the more restrictive formula, we found 315 instances of al-Tabari’s being cited in an <em>isnad</em> across sixty-six works.</p>

<p>As an example, consider this long <em>isnad</em> from Ibn ʿAsakir, which appears in his <em>Taʾrikh madinat Dimashq</em>. Ibn ʿAsakir invokes al-Tabari’s name within his biography of al-Walid II b. Yazid (r. 125-6/743-4) in the context of a report regarding the so-called third <em>fitna</em>, during which Yazid b. al-Walid (r. approximately six months in 126/744) seized the caliphate by overthrowing his cousin al-Walid II:</p>

<blockquote>
  <p>I [Ibn ʿAsakir] read aloud to (<em>qaraʾtu ʿala</em>) Abu al-Wafaʾ Huffāz b. al-Hasan b. al-Husayn from ʿAbd al-ʿAziz b. Ahmad, who said that ʿAbd al-Wahhab al-Maydani told us that Abu Sulayman b. Zabr said that ʿAbd Allah b. Ahmad b. Jaʿfar told him that Muhammad b. Jarir al-Tabari told him:</p>

  <p>Ahmad b. Zuhayr told us that ʿAli b. Muhammad told him, from ʿAmr b. Marwan al-Kalbi, that Yaʿqub b. Ibrahim b. al-Walid told him that when Yazid b. al-Walid went out (<em>kharaja</em>, i.e. rebelled), a <em>mawla</em> belonging to al-Walid went out on a horse …<sup id="fnref:7" role="doc-noteref"><a href="#fn:7" class="footnote" rel="footnote">7</a></sup></p>
</blockquote>

<p>Both the <em>isnad</em> in the second paragraph and the report can be traced to al-Tabari’s <em>Taʾrikh</em>,<sup id="fnref:8" role="doc-noteref"><a href="#fn:8" class="footnote" rel="footnote">8</a></sup> with some precisely reproduced phrasing (as well as some differences, which do not concern us here).<sup id="fnref:9" role="doc-noteref"><a href="#fn:9" class="footnote" rel="footnote">9</a></sup> But the <em>Taʾrikh</em> itself is not mentioned. This is typical of Ibn ʿAsakir’s citations: even when referring to people who wrote books, he very often cites the people, not the books.</p>

<p>In both Ibn ʿAsakir’s text and the <em>Taʾrikh</em> itself, al-Tabari’s direct informant is named as Ahmad b. Zuhayr (d. 279/892), who, according to Gilliot, wrote an <em>histoire</em> (<em>taʾrikh</em>) of the caliphal period and attended the lessons of Musʿab b. ʿAbd Allah al-Zubayri (d. 233/848 or 236/851) on the genealogy of the Arabs.<sup id="fnref:10" role="doc-noteref"><a href="#fn:10" class="footnote" rel="footnote">10</a></sup> Ibn al-Nadim attributes four works to Ahmad b. Zuhayr (<em>Kitab al-Taʾrikh</em>, <em>Kitab al-Mutayyamin</em>, <em>Kitab al-Iʿrab</em> and <em>Kitab Akhbar al-shuʿaraʾ</em>).</p>

<p>In this process, books were rendered doubly invisible. First, al-Tabari copied material from Ibn Zuhayr’s writings (which he obtained directly from the author) into his own <em>Taʾrikh</em>. Then, what al-Tabari wrote was converted back into note format for several generations (as witnessed in the <em>isnad</em>). Finally, the material was absorbed into Ibn ʿAsakir’s <em>Taʾrikh madinat Dimashq</em>, with the identities of its previous book-form carriers – the writings of Aḥmad b. Zuhayr and al-Tabari – erased. In Ibn ʿAsakir’s work, these other writings have become invisible as books. Each of the people involved in this and similar chains of writing has gone to the trouble of creating a work. But it is as if each person afterwards has reserves credit for authoring a book only to himself.</p>

<h2 id="concluding-remarks">Concluding Remarks</h2>

<p>The data for these blog posts was collected over several weeks during the Covid-19 pandemic. It was an extraordinary time to be buried in spreadsheets, doing this sort of intensive work. Perhaps it would have seemed less interesting in a different time. We did not set out to write eight posts, only two. But as we immersed ourselves in the data, we came to see the potential for gathering more data to address different aspects of the questions outlined at the start. In the months to come, we hope to publish our work in a peer-reviewed journal with additional reflections, data and corrections.</p>

<p>The method we are developing can be used with any text that is well structured (including having regularly marked paragraphs) and whose author cites sources according to a regular pattern. The Transmission Chains table can be filtered and sorted to address questions we have not raised (though keeping in mind the problems outlined in Post 2). The Name Normalisation table can be reused and expanded to, for example, study citation patterns in works written earlier or later. Scholars often work on a single book by a well-known author. The OpenITI corpus provides access to many less-known works, and digital methods applied to the entirety of an author’s surviving oeuvre can often shed more light on the author’s working methods than can close scrutiny of a single work.</p>

<p>Our data provided us with a complex new perspective on how al-Tabari worked, but we want to emphasise how much can also be learned by far more simple explorations. We encourage you to download the corpus through Zenodo and, as a matter of routine, to search individual works and the corpus broadly. Doing so will reveal hitherto unseen patterns, including in the structures of various works and in the frequencies of citation partners (as in our case). There is now a vast number of texts at your fingertips that you can not only read and search but also annotate and return to again and again on your own computer. We will be adding more book files to the OpenITI corpus in the future. If you do not see something that you would like to see in the corpus, please be in touch: if you can get hold of the work in question in a PDF file of reasonable quality, you can now create a machine-readable file of it through our Optical Character Recognition pipeline.</p>

<p>Finally, Digital Humanities is a field built on teamwork. We worked intensively together, even if separated by geography (Sarah in the United Kingdom and Masoumeh in Germany). We relied on the contributions, feedback and questions of a team of KITABis, whose input has been invaluable, and on those of reviewers of the project, especially Letizia Osti and Konrad Hirschler, who read these posts and improved them with their comments. We welcome your thoughts, too.</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>Yaqut, <em>Muʿjam al-ʿudabaʾ</em>, OpenITI, Shamela0009788-ara1.mARkdown, ms. 1812. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>The quotation goes on to list other works of al-Tabari. Yaqut, <em>Muʿjam al-ʿudabaʾ</em>, OpenITI, ms. 1801. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p>F. Rosenthal, ‘Al-Farg̲h̲ānī’, in <em>Encyclopaedia of Islam</em>, 2nd ed., <a href="http://dx.doi.org.iij.idm.oclc.org/10.1163/1573-3912_islam_SIM_2280">[http://dx.doi.org.iij.idm.oclc.org/10.1163/1573-3912_islam_SIM_2280]{.ul}</a>. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:4" role="doc-endnote">
      <p><em>Wa-innama kharaja dhalika ila al-nas ʿala sabil al-ijaza ila sanna arbaʿ wa-tisʿin wa-miʾatayn</em>. Yaqut, <em>Muʿjam al-ʿudabaʾ</em>, OpenITI, ms. 1815. <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:5" role="doc-endnote">
      <p>Ibn al-Nadim, <em>al-Fihrist</em>, OpenITI, 0385.Fihrist.Shia003355-ara1.mARkdown, ms. 285, search term القطعان. On the term <em>qatʿan</em>/<em>qatʿayn</em>, see Savant, <em>Cultural History of the Arabic Book</em> (forthcoming). <a href="#fnref:5" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:6" role="doc-endnote">
      <p>See, for example, Letizia Osti’s forthcoming monograph on al-Suli. <a href="#fnref:6" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:7" role="doc-endnote">
      <p>Ibn ʿAsakir, <em>Taʾrikh madinat Dimashq</em>, OpenITI, JK000916-ara1, ms. 25095. <a href="#fnref:7" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:8" role="doc-endnote">
      <p>Al-Tabari, <em>Taʾrikh al-rusul wa-l-muluk</em>, OpenITI, Shamela0009783BK1--ara1.completed, ms. 3267. <a href="#fnref:8" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:9" role="doc-endnote">
      <p>Al-Tabari, <em>Taʾrikh</em>, OpenITI, ms. 1132. <a href="#fnref:9" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:10" role="doc-endnote">
      <p>Claude Gilliot, ‘La formation intellectuelle de Tabari (224/5–310/839–923)’, <em>Journal asiatique</em> 276 (1988), 203–44, at 220–1. <a href="#fnref:10" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>]]></content><author><name>Sarah Savant and Masoumeh Seydi</name></author><category term="" /><category term="" /><summary type="html"><![CDATA[In this series of blog posts, we have argued for the imperative to rethink writerly culture in ways that allow for a more meaningful exploration of al-Tabari’s (d. 310/923) sources. We have also advanced a more general argument about the nature of writing in the period in which al-Tabari lived. The question that we should be asking is not whether a particular piece of writing constituted a published, redacted book but rather what forms writing took, what evidence we have of these forms in the works that survive, and how ideas about writing itself might have contributed to the evolution of the tradition – including the loss and oblivion of many of its layers.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/thumbs/tabari_dispatches.png" /><media:content medium="image" url="http://localhost:4000/images/thumbs/tabari_dispatches.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>